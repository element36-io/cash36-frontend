(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1046:function(e,t,a){},1047:function(e,t,a){},1048:function(e,t,a){},1049:function(e,t,a){},1050:function(e,t,a){},1051:function(e,t,a){},1058:function(e,t,a){},1059:function(e,t,a){},1083:function(e,t){},1141:function(e,t){},1150:function(e,t,a){},1151:function(e,t,a){},1152:function(e,t,a){},1153:function(e,t,a){},1154:function(e,t,a){},1155:function(e,t,a){},1156:function(e,t,a){},1157:function(e,t,a){},1158:function(e,t,a){},1159:function(e,t,a){},1160:function(e,t,a){},1161:function(e,t,a){},1162:function(e,t,a){},1163:function(e,t,a){},1164:function(e,t,a){},1165:function(e,t,a){},1166:function(e,t,a){},1167:function(e,t,a){},1168:function(e,t,a){},1169:function(e,t,a){},1170:function(e,t,a){},1171:function(e,t,a){},1172:function(e,t,a){},1173:function(e,t,a){},1174:function(e,t,a){},1175:function(e,t,a){},1176:function(e,t,a){},1177:function(e,t,a){},1183:function(e,t,a){},1184:function(e,t,a){},1185:function(e,t,a){},1186:function(e,t,a){},1187:function(e,t,a){},1188:function(e,t,a){},1189:function(e,t,a){},1190:function(e,t,a){},1191:function(e,t,a){},1192:function(e,t,a){},1193:function(e,t,a){},1194:function(e,t,a){},1195:function(e,t,a){},1196:function(e,t,a){},1197:function(e,t,a){},1198:function(e,t,a){},1199:function(e,t,a){},1200:function(e,t,a){},1201:function(e,t,a){},1202:function(e,t,a){},1203:function(e,t,a){},1204:function(e,t,a){},1205:function(e,t,a){},1206:function(e,t,a){},1207:function(e,t,a){},1208:function(e,t,a){},1209:function(e,t,a){},1210:function(e,t,a){},1211:function(e,t,a){},1212:function(e,t,a){},1214:function(e,t,a){},1215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),s=a(14),o=a(90),i=a(2),u=a.n(i),m=a(5),d=a(3),p=a(8),f=a(467),b=a.n(f),h=a(468),E=a.n(h),v=function(e){var t=e.isMobile,a=e.isTablet,n=e.isDesktop,c=e.children;return r.a.createElement(E.a,{query:t?"(max-width: 767px)":a?"(max-width: 967px)":n?"(min-width: 968px)":"(min-width: 768px)"},c)},g=a(469),y=a.n(g),k=function(){return r.a.createElement("img",{src:y.a,alt:"LOGO"})},w=a(135),_=(a(551),function(e){var t=e.isActive,a=e.clickHandler,n=e.alt;return r.a.createElement("div",{className:"nav-btn ".concat(n?"alt":""," ").concat(t?"active":""),onClick:a,"data-testid":"nav-button"},r.a.createElement("div",null,Object(w.a)(Array(4).keys()).map(function(e){return r.a.createElement("span",{key:e})})))}),O=function(){return r.a.createElement("ul",{"data-testid":"auth__nav"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"https://www.element36.io"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"https://docs.google.com/forms/d/e/1FAIpQLSeZwzmZ-TzqXbxkS48b1VJrWMfhmBM8sOY0AdcGmh_mxy62uQ/viewform?usp=sf_link"},"Support")))},x=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{clickHandler:function(){c(!a)},isActive:a}),r.a.createElement("div",{className:"auth__header__dropdown ".concat(a?"active":""),"data-testid":"auth__header__dropdown"},r.a.createElement("div",{className:"paper"},r.a.createElement(O,null))))},N=(a(553),function(){return r.a.createElement("div",{className:"auth__header","data-testid":"auth__header"},r.a.createElement(v,null,r.a.createElement(k,null)),r.a.createElement(v,{isMobile:!0},r.a.createElement(x,null)))}),C=(a(554),function(){return r.a.createElement("div",{className:"auth__sidebar","data-testid":"auth__sidebar"},r.a.createElement(O,null))}),j=(a(555),function(){return r.a.createElement("div",{className:"login__terms"},"By signing in, you agree to"," ",r.a.createElement("span",null,"element36 ",r.a.createElement("a",{href:"https://docs.google.com/document/d/e/2PACX-1vQrdc8Y2IXX_wijlgpl5-hW2n18coP-hHup8LwUhQEiD787wx6tiOzvK4IEBawNYC0bTuKueO0M9Lqj/pub",target:"_blank",rel:"noopener noreferrer"},"Terms and Conditions")," & ",r.a.createElement("a",{href:"https://docs.google.com/document/d/e/2PACX-1vSOcC_zA-j1mJMyTsXDHktybyyDEUsU3XE9-kINF2xNCRhhlQ8ul3UYiKpVxRcW4m0k-Bxt7aglHuCV/pub",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")))}),S=(a(556),function(e){var t=e.children,a=e.message,n=void 0===a?"Welcome":a;return r.a.createElement("div",{className:"auth__wrapper","data-testid":"auth__wrapper"},r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(v,{isMobile:!0},r.a.createElement("img",{src:b.a,alt:"element36"})),n&&r.a.createElement("h2",null,n),t,r.a.createElement(j,null)),r.a.createElement(v,null,r.a.createElement(C,null)))}),T=a(520),A=a(33),I=a.n(A),L=a(470),F=a(471),D=a(109),P=a(472),R=a.n(P),U=a(11),B={isAuthenticated:!!localStorage.getItem("access_token"),captchaToken:"",user:JSON.parse(localStorage.getItem("state"))?JSON.parse(localStorage.getItem("state")).user:void 0,attesting:!1,kyc:{}},W={historyFiltered:!1,fetchingFilters:!1,fetchingTokens:!1},M={},Y=a(473),V=a.n(Y),q={notifications:[],badgeCount:0,lastRead:localStorage.getItem("lastRead")?new Date(localStorage.getItem("lastRead")).toISOString():(new Date).toISOString()},z={contactsList:[],fetching:!1},H={walletList:[],loggedInWallet:null},G={},K=Object(F.createLogger)(),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,Q=Object(D.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return Object(U.a)({},e,{isAuthenticated:t.payload.isAuthenticated,user:t.payload.user});case"GET_USER_INFO":return Object(U.a)({},e,{user:Object(U.a)({},e.user,t.payload)});case"GET_CURRENT_KYC_STEP":return Object(U.a)({},e,{kyc:Object(U.a)({},e.kyc,{currentStep:t.payload})});case"SET_CAPTCHA_TOKEN":return Object(U.a)({},e,{captchaToken:t.payload});default:return e}},tokens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOKENS":return Object(U.a)({},e,t.payload);case"FETCHING_FILTERS":return Object(U.a)({},e,{fetchingFilters:t.payload});case"HISTORY_FILTERED":return Object(U.a)({},e,{historyFiltered:t.payload});case"GET_USER_ACTIVITY":return Object(U.a)({},e,{userActivity:t.payload});default:return e}},countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTRIES":return t.payload;default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NOTIFICATIONS":return Object(U.a)({},e,{notifications:V.a.orderBy(t.payload,["creationDate"],"desc")});case"UPDATE_BADGE_COUNT":return Object(U.a)({},e,{badgeCount:t.payload});case"UPDATE_LAST_READ":return Object(U.a)({},e,{lastRead:t.payload});default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONTACTS":return Object(U.a)({},e,{fetching:!0});case"GET_CONTACTS_SUCCESS":return{contactsList:t.payload,fetching:!1};case"REMOVE_CONTACTS":var a=e.contactsList.filter(function(e){return e.id!==t.payload});return Object(U.a)({},e,{contactsList:a});case"ADD_CONTACTS":return Object(U.a)({},e,{contactsList:[].concat(Object(w.a)(e.contactsList),[t.payload])});default:return e}},wallets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WALLETS":return Object(U.a)({},e,{walletList:t.payload});case"SET_LOGGEDIN_WALLET":return Object(U.a)({},e,{loggedInWallet:t.payload});case"REMOVE_LOGGEDIN_WALLET":return Object(U.a)({},e,{loggedInWallet:null});default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONTRACTS":return t.payload;default:return e}}}),Z=Object(D.e)(Q,X(Object(D.a)(L.a,K)));Z.subscribe(R()(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}({user:Z.getState().auth.user})},2e3));var J=Z;function $(e){if(e.response){var t,a=e.response.data,n=e.response.status;if(Array.isArray(e.response.data))return t="".concat(e.response.data.join("; ")," (").concat(n,")"),Promise.reject(t);if(a)return t=a.message?"".concat(a.message," (").concat(n,")"):a.error_description?"".concat(a.error_description," (").concat(n,")"):"".concat(a.error," (").concat(n,")"),Promise.reject(t)}return Promise.reject(e.message)}var ee=function(){return localStorage.removeItem("state"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("expires_at"),{type:"AUTH_USER",payload:{isAuthenticated:!1,user:null}}},te=function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/current-user");case 3:a=e.sent,t({type:"GET_USER_INFO",payload:a.data}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},ae=function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/kyc/get-step");case 3:a=e.sent,n=a.data.result,t({type:"GET_CURRENT_KYC_STEP",payload:n}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},ne=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/kyc/get-step3-code");case 3:return t=e.sent,e.abrupt("return",t.data.result);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/data/industries");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(pe,"/auth/user/register"),{username:t,password:a,emailUrl:"".concat(window.location.origin,"/account-activation"),captchaToken:n});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(pe,"/compliance/confirm/public/check?code=").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0.response.data.error_description||"An error has occured"));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(pe,"/auth/user/register-new-confirm"),{emailUrl:t,username:a});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("".concat(pe,"/auth/user/reset-user/").concat(t),{emailUrl:a});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(pe,"/auth/user/reset"),{challenge:t,password:a,username:n});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/avatar");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.post("/compliance/avatar",t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.delete("/compliance/avatar");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),pe="http://rinkeby.e36.io:8090/cash36",fe=I.a.create({baseURL:pe}),be=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:"grant_type=refresh_token&refresh_token=".concat(t),headers:{Authorization:"Basic Y2FzaDM2LWNsaWVudDpjYXNoMzYtc2VjcmV0","Content-Type":"application/x-www-form-urlencoded"}},e.prev=1,e.next=4,I.a.post("".concat(pe,"/auth/oauth/token"),a.data,{headers:a.headers});case 4:return n=e.sent,r=n.data,localStorage.setItem("access_token",r.access_token),localStorage.setItem("refresh_token",r.refresh_token),localStorage.setItem("expires_at",(new Date).getTime()+1e3*r.expires_in),e.abrupt("return",r.access_token);case 12:e.prev=12,e.t0=e.catch(1),console.log("Token expired, logging you out..."),J.dispatch(ee());case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();fe.interceptors.request.use(function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("access_token"),a=localStorage.getItem("refresh_token"),n=localStorage.getItem("expires_at"),!(t&&(new Date).getTime()>n)){e.next=7;break}return e.abrupt("return",be(a));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=3,a();case 3:return(n=e.sent)&&(t.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){return Promise.reject(e)});var he=fe,Ee=a(220),ve=(a(582),function(e){var t=e.render,a=e.submitCallback,c=e.initialValues,l=e.validationSchema,s=void 0===l?null:l,o=e.validate,i=void 0===o?function(){}:o,p=Object(n.useState)(!1),f=Object(d.a)(p,2),b=f[0],h=f[1],E=Object(n.useCallback)(function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,a(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),h(!1);case 9:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),[]);return r.a.createElement("div",{className:"element-form-wrapper"},r.a.createElement(Ee.b,{validate:i,initialValues:c,validationSchema:s,validateOnBlur:!1,validateOnChange:!1,onSubmit:E,render:function(e){return t(e,b)}}))}),ge=a(127),ye=a.n(ge),ke=a(84),we=a.n(ke),_e=a(1237),Oe=function(e){var t=e.disabled,a=e.style,n=e.children,c=e.submitting;return r.a.createElement(_e.a,Object.assign({},e,{submitting:c?1:0,style:Object(U.a)({},a,{fontFamily:'"Rubik", sans-serif',color:"#fff",opacity:t?".5":1})}),c?r.a.createElement(we.a,{"data-testid":"default-button__spinner",color:"secondary",size:20}):n)},xe=(a(604),function(e){var t=e.text,a=e.onClick,n=e.disabled,c=e.type,l=e.submitting;return r.a.createElement(Oe,{variant:"contained",type:c,size:"large",fullWidth:!0,disabled:n,className:"step-button ".concat(l?"step-button--submitting":""),onClick:a},l?r.a.createElement(we.a,{"data-testid":"default-button__spinner",color:"secondary",size:20}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,t),r.a.createElement(ye.a,{"data-testid":"step-button__arrow"})))}),Ne=Object({NODE_ENV:"production",PUBLIC_URL:"/build-rinkeby",REACT_APP_WEB3_URL:"https://rinkeby.infura.io/v3/edd87435d5834e77949995487759b896",REACT_APP_CAPTCHA_KEY:"6LdpYsEUAAAAAJ8Nsprj6vgVids2ygP1dn3D1aph",REACT_APP_API_URL:"http://rinkeby.e36.io:8090/cash36"}).REACT_APP_CAPTCHA_ACTIVE,Ce=Object(p.b)(null,{setCaptchaToken:function(e){return{type:"SET_CAPTCHA_TOKEN",payload:e}}})(function(e){var t=e.submitCallback,a=e.validationSchema,c=e.initialValues,l=e.formFields,s=e.buttonLabel,o=e.children,i=e.errorMsg,u=e.captcha,m=void 0===u||u,p=e.setCaptchaToken,f=Object(n.useState)(!m||!Ne),b=Object(d.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(null),g=Object(d.a)(v,2),y=g[0],k=g[1],w=function(e){e&&E(!0),p(e)},_=function(e){return k(e)},O=Object(n.useCallback)(function(e){return Object.values(e).map(function(e){return r.a.createElement("p",{className:"auth__form__error",key:e},e)})},[]),x=Object(n.useCallback)(function(e,t){return e||Object.values(t).some(function(e){return!e})||!h},[h]);return r.a.createElement(ve,{submitCallback:t,validationSchema:a,initialValues:c,render:function(e,t){return r.a.createElement("form",{className:"auth__form",onSubmit:e.handleSubmit},r.a.createElement("div",null,l.map(function(t){return r.a.createElement("div",{className:"auth__field",key:t.name},r.a.createElement("label",null,r.a.createElement("span",null,t.label),r.a.createElement("input",{"data-testid":"auth_form_".concat(t.name),type:t.type,name:t.name,value:e.values[t.name],onChange:e.handleChange,onBlur:e.handleBlur}),r.a.createElement("span",null)))})),m&&Ne&&r.a.createElement("div",{className:"auth__captcha"},r.a.createElement(T.a,{onChange:w,sitekey:"6LdpYsEUAAAAAJ8Nsprj6vgVids2ygP1dn3D1aph",onErrored:_})),O(e.errors),y&&r.a.createElement("p",{className:"auth__form__error"},y),i&&r.a.createElement("p",{className:"auth__form__error"},i),r.a.createElement(xe,{variant:"contained",color:"primary",type:"submit",size:"large",fullWidth:!0,text:s,onClick:e.handleSubmit,disabled:x(t,e.values),submitting:t}),o)}})}),je={username:"",password:""},Se=[{label:"Email",name:"username",type:"text"},{label:"Password",name:"password",type:"password"}],Te=a(22),Ae=Te.object().shape({username:Te.string().email("Invalid email address").required("Email is required"),password:Te.string().min(6,"Password should be at least 6 characters").required("Password is required")}),Ie=Object(p.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(m.a)(u.a.mark(function a(n){var r,c,l,s,o;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={username:e},c={data:"username=".concat(e,"&password=").concat(t,"&grant_type=password"),headers:{Authorization:"Basic Y2FzaDM2LWNsaWVudDpjYXNoMzYtc2VjcmV0","Content-Type":"application/x-www-form-urlencoded"}},a.prev=2,a.next=5,I.a.post("".concat(pe,"/auth/oauth/token"),c.data,{headers:c.headers});case 5:l=a.sent,s=l.data,localStorage.setItem("access_token",s.access_token),localStorage.setItem("refresh_token",s.refresh_token),o=(new Date).getTime()+1e3*s.expires_in,localStorage.setItem("expires_at",o),n({type:"AUTH_USER",payload:{isAuthenticated:!0,user:r}}),n(te()),a.next=18;break;case 15:return a.prev=15,a.t0=a.catch(2),a.abrupt("return",$(a.t0));case 18:case"end":return a.stop()}},a,null,[[2,15]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.isAuthenticated,a=e.login,c=Object(n.useState)(null),l=Object(d.a)(c,2),i=l[0],p=l[1],f=Object(n.useState)(!1),b=Object(d.a)(f,2),h=b[0],E=b[1],v=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t.username,t.password);case 3:e.next=13;break;case 5:if(e.prev=5,e.t0=e.catch(0),!e.t0.includes("User is disabled")){e.next=11;break}return E(!0),p('Your account has not been activated. Click "Resend activation link" to activate it'),e.abrupt("return",Promise.reject(e.t0));case 11:return p(e.t0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}();return t?r.a.createElement(o.a,{to:"/"}):r.a.createElement(S,null,r.a.createElement("div",{"data-testid":"login_component"},r.a.createElement("p",null,"Welcome back,",r.a.createElement("br",null),"Please, enter your email & password"),r.a.createElement(Ce,{submitCallback:v,validationSchema:Ae,initialValues:je,formFields:Se,buttonLabel:"Login",errorMsg:i,captcha:!1},r.a.createElement("p",null,"New to element36? ",r.a.createElement(s.b,{to:"/register"},"Sign up")),r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/reset-password"},"Forgot password?")),h&&r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/resend-activation"},"Resend activtion link")))))}),Le={username:"",password:"",passwordConfirmation:""},Fe=[{label:"Email",name:"username",type:"text"},{label:"Password",name:"password",type:"password"},{label:"Confirm Password",name:"passwordConfirmation",type:"password"}],De=Te.object().shape({username:Te.string().email("Invalid email address").required("Email is required"),password:Te.string().min(6,"Password should be at least 6 characters").required("Password is required"),passwordConfirmation:Te.string().min(6,null).required(null).oneOf([Te.ref("password"),null],"Passwords do not match")}),Pe=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/wallet/getAddressType/".concat(t.toLowerCase()));case 3:return a=e.sent,e.abrupt("return","E36_WALLET"===a.data.result);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Re=function(e){return e.length?e.find(function(e){return e.mainWallet}).accountAddress:""},Ue=function(e){return e.find(function(e){return e.mainWallet})},Be=function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},We=function(e){return"Account ".concat(e+1)},Me=(a(731),Object(p.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,captchaToken:e.auth.captchaToken}},null)(function(e){var t=e.isAuthenticated,a=e.captchaToken,c=Object(n.useState)(null),l=Object(d.a)(c,2),i=l[0],p=l[1],f=Object(n.useState)(null),b=Object(d.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),y=g[0],k=g[1],w=r.a.useRef(a);w.current=a;var _=Object(o.h)(),O=Be(_.search,"email");Object(n.useEffect)(function(){O&&E(O)});var x=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(t.username,t.password,w.current);case 3:E(t.username),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),p(e.t0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("".concat(window.location.origin,"/account-activation"),h);case 3:k(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),p(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return t?r.a.createElement(o.a,{to:"/"}):r.a.createElement(S,{message:h?"":"Welcome"},r.a.createElement("div",{className:"".concat(h?"register-email":""),"data-testid":"register_component"},h?r.a.createElement("div",{className:"register-email__message"},r.a.createElement("h1",null,"Thank you for registering "),r.a.createElement("div",null,"Confirmation email was sent to"," ",r.a.createElement("span",{className:"black-bold"},h,".")),r.a.createElement("div",{className:"register-email__resend"},r.a.createElement("div",null,"Didn't receive it?"),y?r.a.createElement("div",null,"Email sent. Check your inbox and activate account."):r.a.createElement("button",{onClick:N},"Resend activation link")),r.a.createElement(s.b,{to:"/login"},"Back to Login")):r.a.createElement("p",null,"Welcome aboard, ",r.a.createElement("br",null),"Please, enter your email & choose a password"),!h&&r.a.createElement(Ce,{submitCallback:x,validationSchema:De,initialValues:Le,formFields:Fe,buttonLabel:"Register",errorMsg:i},r.a.createElement("p",null,"Already a member? ",r.a.createElement(s.b,{to:"/login"},"Sign in")))))})),Ye={email:""},Ve=[{label:"Email",name:"email",type:"text"}],qe=Te.object().shape({email:Te.string().email("Invalid email address").required("Field is required")}),ze=(a(732),function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(o.g)(),i=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t.email);case 3:l.push("/set-new-password?for=".concat(t.email)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"reset-password"},r.a.createElement(S,{message:"Reset Password"},r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"Enter the email you registered with"),r.a.createElement(Ce,{submitCallback:i,validationSchema:qe,initialValues:Ye,formFields:Ve,buttonLabel:"Send me Instructions",errorMsg:a},r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/login"},"Back to login"))))))}),He={code:"",newPassword:"",newPasswordConfirmation:""},Ge=[{label:"Confirmation code",name:"code",type:"text"},{label:"New Password",name:"newPassword",type:"password"},{label:"New Password Confirmation",name:"newPasswordConfirmation",type:"password"}],Ke=Te.object().shape({newPassword:Te.string().min(6,"Password should be at least 6 characters").required("Password is required"),newPasswordConfirmation:Te.string().min(6,null).required(null).oneOf([Te.ref("newPassword"),null],"Passwords do not match")}),Xe=(a(733),function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(d.a)(l,2),p=i[0],f=i[1],b=Object(o.h)().search.split("=")[1].trim(),h=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t.code,t.newPassword,b);case 3:f(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"set-new-password"},r.a.createElement(S,{message:p?"Password set":"Set New Password"},p?r.a.createElement("div",{className:"set-new-password__message"},"Your password has been reset successfully. You can login now.",r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/login"},"Back to login"))):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"Check your email for confirmation code"),r.a.createElement(Ce,{submitCallback:h,validationSchema:Ke,initialValues:He,formFields:Ge,buttonLabel:"Submit",errorMsg:a,captcha:!1},r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/login"},"Back to login"))))))}),Qe=(a(734),function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(o.g)(),i=Object(o.h)(),p=Be(i.search,"code"),f=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,le(p);case 5:l.push("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c("Your activation link has expired, click below to resend the activation code");case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){f()},[]),p?r.a.createElement(S,{message:""},r.a.createElement("div",{className:"account-activation"},a?r.a.createElement("div",{className:"account-activation__message"},r.a.createElement("p",null,a),r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/resend-activation"},"Resend activation link"))):r.a.createElement(we.a,{color:"primary",size:50}))):r.a.createElement(o.a,{to:"/login"})}),Ze={email:""},Je=[{label:"Email",name:"email",type:"text"}],$e=Te.object().shape({email:Te.string().email("Invalid email address").required("Field is required")}),et=(a(735),function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(o.g)(),i=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("".concat(window.location.origin,"/account-activation"),t.email);case 3:l.push("/register?email=".concat(t.email)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"resend-activation"},r.a.createElement(S,{message:"Resend Activation Link"},r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"Enter the email you registered with"),r.a.createElement(Ce,{submitCallback:i,validationSchema:$e,initialValues:Ze,formFields:Je,buttonLabel:"Send me the Activation Link",errorMsg:a},r.a.createElement("p",{className:"paragraph-link-gray"},r.a.createElement(s.b,{to:"/login"},"Back to login"))))))}),tt=a(42),at=(a(736),function(e){var t=e.documentType,a=e.changeCallback,c=e.removeCallback,l=Object(n.useState)(0),s=Object(d.a)(l,2),o=s[0],i=s[1],u=Object(n.useState)(null),m=Object(d.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)(!1),h=Object(d.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)(!1),y=Object(d.a)(g,2),k=y[0],w=y[1],_=r.a.createRef();return r.a.createElement("div",{className:"tier2-form__file-input__container"},r.a.createElement("label",{className:"tier2-form__file-input ".concat(p?"active":""," ").concat(E||k?"error":"")},r.a.createElement("div",{className:"tier2-form__file-input__body"},p?r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fas fa-file"})," ",r.a.createElement("span",null,p)):"Upload a document or an image"),r.a.createElement("span",{className:"tier2-form__file-input__upload-icon"},r.a.createElement("i",{className:"fas fa-upload"})),p&&r.a.createElement("div",{className:"tier2-form__file-input__progress"},r.a.createElement("span",{style:{width:"".concat(o,"%")}})),r.a.createElement("input",{type:"file",ref:_,onChange:function(e){var n=e.target.files;if(n[0]){var r=["png","jpg","jpeg","pdf"].includes(n[0].name.split(".").pop().toLowerCase()),l=n[0].size<10485760;if(i(0),f(r&&l?n[0].name:null),v(!r),w(!l),r&&l){var s=new FileReader;s.onprogress=function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10);i(t)}},s.readAsDataURL(n[0]),a(n[0],t)}else c(t)}},"data-testid":"kyc__file-input"})),E&&r.a.createElement("p",null,"Only png, jpg, jpeg and pdf files are allowed"),k&&r.a.createElement("p",null,"Max file size is 10MB"))}),nt=function(){var e=Object(m.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.put("/compliance/directupload/send-kyc-link","".concat(t,"upload-documents?selfieCode=").concat(a),{headers:{"Content-Type":"application/json"}});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),rt=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(pe,"/compliance/directupload/public/upload/").concat(a,"?selfieCode=").concat(n),t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}(),ct=(a(737),function(){var e=Object(n.useState)({ID_Front:{documentType:"ID_Front",file:null},ID_Back:{documentType:"ID_Back",file:null},Utility_Bill:{documentType:"Utility_Bill",file:null},ID_Selfie:{documentType:"ID_Selfie",file:null}}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),i=s[0],p=s[1],f=Object(n.useState)(!1),b=Object(d.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(""),g=Object(d.a)(v,2),y=g[0],w=g[1],_=Object(o.h)(),O=Be(_.search,"code"),x=Be(_.search,"selfieCode"),N=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O||w("Unauthorized"),e.prev=1,w(""),p(!0),t=new FormData,Object.values(a).forEach(function(e){e.file&&(t.append("documentTypes",e.documentType),t.append("files",e.file))}),e.next=8,rt(t,O);case 8:E(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),w(e.t0);case 14:p(!1);case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),C=function(e,t){c(Object(U.a)({},a,Object(tt.a)({},t,Object(U.a)({},a[t],{file:e}))))},j=function(e){c(Object(U.a)({},a,Object(tt.a)({},e,Object(U.a)({},a[e],{file:null}))))},S=Object.values(a).filter(function(e){return"ID_Back"!==e.documentType}).some(function(e){return!e.file});return h?r.a.createElement("div",{className:"upload-documents-view"},r.a.createElement("div",{className:"upload-documents-view__header"},r.a.createElement(k,null)),r.a.createElement("h1",null,"Upload Documents"),r.a.createElement("h3",null,"Your documents have been uploaded.")):r.a.createElement("div",{className:"upload-documents-view"},r.a.createElement("div",{className:"upload-documents-view__header"},r.a.createElement(k,null)),r.a.createElement("h1",null,"Upload Documents"),r.a.createElement("div",{className:"upload-documents__form"},r.a.createElement("div",{className:"upload-documents__form-field"},r.a.createElement("h3",null,"Identity Document Front"),r.a.createElement(at,{documentType:a.ID_Front.documentType,removeCallback:j,changeCallback:C})),r.a.createElement("div",{className:"upload-documents__form-field"},r.a.createElement("h3",null,"Identity Document Back"),r.a.createElement(at,{documentType:a.ID_Back.documentType,removeCallback:j,changeCallback:C})),r.a.createElement("div",{className:"upload-documents__form-field"},r.a.createElement("h3",null,"Selfie with the code ",r.a.createElement("strong",null,x)),r.a.createElement(at,{documentType:a.ID_Selfie.documentType,removeCallback:j,changeCallback:C})),r.a.createElement("div",{className:"upload-documents__form-field"},r.a.createElement("h3",null,"Verified Proof of Residence"),r.a.createElement(at,{documentType:a.Utility_Bill.documentType,removeCallback:j,changeCallback:C})),r.a.createElement(Oe,{fullWidth:!0,variant:"contained",disabled:S||i,onClick:N},"Submit"),r.a.createElement("div",{className:"error-text"},y)))}),lt=a(1256),st=a(1245),ot=a(1244),it=a(50),ut=a.n(it),mt=a(206),dt=a.n(mt),pt=a(481),ft=a.n(pt),bt=Object(n.createContext)(),ht=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),p=i[0],f=i[1],b=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue();case 3:if((t=e.sent).data){e.next=7;break}return f(""),e.abrupt("return");case 7:f("".concat(t.dataType,";").concat(t.encoding,", ").concat(t.data)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){b()},[]),r.a.createElement(bt.Provider,{value:{avatarUrl:p,error:l,callGetAvatar:b}},t)},Et=(a(738),function(e){var t=e.cssClass,a=e.alt,c=e.isEditable,l=void 0!==c&&c,s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],p=o[1],f=Object(n.useContext)(bt),b=f.avatarUrl,h=f.avatarError,E=f.callGetAvatar;h&&console.log(i);var v=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files,n=["png","jpg","jpeg"],a[0]){e.next=4;break}return e.abrupt("return");case 4:if(r=n.includes(a[0].name.split(".").pop().toLowerCase()),c=a[0].size<10485760,r){e.next=9;break}return p("Not a valid file type"),e.abrupt("return");case 9:if(c){e.next=12;break}return p("File is too big"),e.abrupt("return");case 12:return(l=new FormData).append("file",a[0]),e.prev=14,e.next=17,me(l);case 17:return e.next=19,E();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),p(e.t0);case 24:case"end":return e.stop()}},e,null,[[14,21]])}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:return e.next=5,E();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"avatar__container"},l&&r.a.createElement("div",{className:"avatar__controls"},r.a.createElement("label",{className:"avatar__upload"},r.a.createElement("input",{type:"file",onChange:v}),r.a.createElement(lt.a,{title:"Upload new avatar"},r.a.createElement(ft.a,null))),b&&r.a.createElement("div",{className:"avatar__remove",onClick:g},r.a.createElement(lt.a,{title:"Delete avatar"},r.a.createElement(dt.a,null)))),r.a.createElement("div",{className:"avatar ".concat(t||"")},b?r.a.createElement("img",{src:b,alt:a}):r.a.createElement("i",{className:"fas fa-user","data-testid":"avatar__icon"})))}),vt=a(37),gt=a.n(vt),yt=a(1252),kt=a(1239),wt=a(482),_t=a.n(wt),Ot=(a(739),function(e){var t=e.children,a=e.onClick,n=e.className;return r.a.createElement(Oe,{className:"secondary-button ".concat(n),onClick:a,style:{background:"linear-gradient(225.95deg, rgba(105, 184, 242, 0.1) 0%, rgba(1, 126, 229, 0.1) 100%)"},"data-testid":"secondary-button"},t)}),xt=a(86),Nt=a.n(xt),Ct=a(87),jt=a.n(Ct),St=function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/wallet/list");case 3:a=e.sent,t({type:"GET_WALLETS",payload:a.data||[]}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},Tt=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.put("/compliance/wallet/updateMain/".concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.delete("/compliance/wallet/delete/".concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/prefund/minFunds");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(m.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.post("/compliance/prefund/sendto/".concat(t,"/").concat(a));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),Ft=function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_TOKENS",payload:{fetchingTokens:!0}}),e.next=4,he.get("/exchange/tokens");case 4:a=e.sent,t({type:"GET_TOKENS",payload:{tokens:a.data,fetchingTokens:!1}}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),t({type:"GET_TOKENS",payload:{fetchingTokens:!1}}),e.abrupt("return",$(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},Dt=function(e){return function(){var t=Object(m.a)(u.a.mark(function t(a){var n,r,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="",e&&(r=Object.keys(e).reduce(function(t,a){return e[a]&&t.push("".concat(a,"=").concat(e[a])),t},[]).join("&"),n="?".concat(r)),t.prev=2,a({type:"FETCHING_FILTERS",payload:!0}),t.next=6,he.get("/exchange/tokens/history".concat(n));case 6:c=t.sent,a({type:"FETCHING_FILTERS",payload:!1}),a({type:"GET_USER_ACTIVITY",payload:c.data}),n&&a("?"===n?{type:"HISTORY_FILTERED",payload:!1}:{type:"HISTORY_FILTERED",payload:!0}),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(2),a({type:"FETCHING_FILTERS",payload:!1}),t.abrupt("return",$(t.t0));case 16:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}()},Pt=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/users/fee");case 3:if(204!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/exchange/tokens/networkid");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),Ut=Object(p.b)(null,{getWallets:St,getTokens:Ft})(function(e){var t=e.wallet,a=e.getWallets,c=e.getTokens,l=Object(n.useState)(""),s=Object(d.a)(l,2),o=s[0],i=s[1],p=t.walletType,f=t.shortDescription,b=t.accountAddress,h=t.mainWallet,E=Object(n.useState)(null),v=Object(d.a)(E,2),g=v[0],y=v[1],k=function(){y(null)},w=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt(b);case 3:return e.next=5,a();case 5:return e.next=7,c();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,At(b);case 3:return e.next=5,a();case 5:k(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),O=Boolean(g);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"manage-wallets__wallet"},r.a.createElement("img",{src:"UPORT"===p?Nt.a:"METAMASK"===p?jt.a:void 0,alt:""}),r.a.createElement("div",{className:"manage-wallets__wallet__text"},r.a.createElement("span",null,f),r.a.createElement("span",null,r.a.createElement(_t.a,{text:b}))),r.a.createElement("div",{className:"manage-wallets__wallet__buttons"},!h&&r.a.createElement("button",{onClick:w},"Make primary"),h&&r.a.createElement("span",null,"Primary wallet"),r.a.createElement(dt.a,{onClick:function(e){y(e.currentTarget)}}),r.a.createElement(kt.a,{open:O,onClose:k,anchorEl:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"}},r.a.createElement("div",{style:{maxWidth:"67rem",padding:"2rem"}},r.a.createElement("h3",{style:{fontSize:"1.8rem",fontWeight:"500",marginBottom:"1.6rem",color:"#ff2525"}},"You are about to delete a wallet"),r.a.createElement("p",null,"You won't be able to to buy, send, sell and receive funds using this wallet anymore. Funds remain on the wallet and wallet can be readded anytime."),r.a.createElement("div",{className:"manage-wallets__wallet__delete__buttons",style:{marginTop:"1.6rem",display:"flex",width:"100%"}},r.a.createElement(Oe,{onClick:_,style:{width:"100%",marginRight:"1.2rem"}},"Yes, I understand, delete anyway"),r.a.createElement(Ot,{onClick:k},"Cancel")))))),o&&r.a.createElement("div",{className:"error-text"},o))}),Bt=a(297),Wt=a.n(Bt),Mt=a(208),Yt=a.n(Mt),Vt=function(e){return I()("".concat(pe,"/credentials?type=").concat(e))},qt=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ht(Object(m.a)(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I()(t);case 2:return a=e.sent,e.abrupt("return",a.data.message.access_token||null);case 4:case"end":return e.stop()}},e)})),a);case 3:return n=e.sent,e.next=6,zt(n);case 6:return r=e.sent,e.abrupt("return",r.data);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a){return e.apply(this,arguments)}}(),zt=function(e){return I.a.post("".concat(pe,"/credentials/verify-request"),{accessToken:e})},Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1};return new Promise(function(a,n){var r=setInterval(Object(m.a)(u.a.mark(function c(){var l;return u.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t()&&(n("Request aborted"),clearInterval(r)),c.prev=1,c.next=4,e();case 4:(l=c.sent)&&(clearInterval(r),a(l)),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(1),clearInterval(r),n(c.t0);case 12:case"end":return c.stop()}},c,null,[[1,8]])})),3e3)})},Gt=a(300),Kt=function(e){var t=e.children;return r.a.createElement(Gt.a,Object.assign({},e,{style:Object(U.a)({},e.style,{fontFamily:'"Rubik", sans-serif'})}),t)},Xt=(a(741),function(e){var t=e.onClick;return r.a.createElement("div",{className:"wallet-type"},r.a.createElement("h3",null,"Choose the type of wallet"),r.a.createElement("div",null,r.a.createElement(Kt,{className:"wallet-type__item",onClick:function(){return t(2)}},"Add wallet with MetaMask",r.a.createElement("img",{src:jt.a,alt:"uport logo"})),r.a.createElement(Kt,{className:"wallet-type__item",onClick:function(){return t(1)}},"Add wallet with uPort",r.a.createElement("img",{src:Nt.a,alt:"uport logo"}))))}),Qt=a(130),Zt=a.n(Qt),Jt=a(1253),$t=a(1242),ea=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)(function(){a.current=e},[e]),Object(n.useEffect)(function(){if(null!==t){var e=setInterval(function(){a.current()},t);return function(){return clearInterval(e)}}},[t])},ta=(a(742),["Sending transactions to Blockchain","Awaiting confirmation","Adding wallet to element 36 KYC network","Updating Smart Contracts","Publishing results","Preparing next steps","Be patient - this may take a while"]),aa=function(e){var t=e.onChange,a=e.value,c=e.error,l=e.onSubmit,s=e.submitting,o=Object(n.useState)(ta[0]),i=Object(d.a)(o,2),u=i[0],m=i[1],p=Object(n.useState)(!0),f=Object(d.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(0),v=Object(d.a)(E,2),g=v[0],y=v[1];ea(function(){y(function(e){return e+1}),m(ta[g]),g===ta.length-1&&h(null)},b?3e3:null);var k=Object(n.useRef)();return Object(n.useEffect)(function(){k.current.focus()}),r.a.createElement("form",{className:"add-wallet-form",onSubmit:l},r.a.createElement(Jt.a,{label:"Wallet Name",onChange:t,value:a,fullWidth:!0,inputRef:k}),c&&r.a.createElement("p",{className:"error-text"},c),r.a.createElement(Oe,{onClick:l,disabled:s||!a.length},s?r.a.createElement("span",{className:"add-wallet-form__feedback"},r.a.createElement($t.a,{size:20})," ",u):"Add Wallet"))},na=a(160),ra=a.n(na),ca=r.a.createContext(),la=new ra.a("https://rinkeby.infura.io/v3/edd87435d5834e77949995487759b896"),sa=Object(p.b)(function(e){return{user:e.auth.user}})(function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(d.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(null),i=Object(d.a)(o,2),p=i[0],f=i[1],b=Object(n.useState)(null),h=Object(d.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)(!1),y=Object(d.a)(g,2),k=y[0],w=y[1],_=Object(n.useState)(la),O=Object(d.a)(_,2),x=O[0],N=O[1],C=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window,a=t.web3,e.prev=1,e.next=4,a.eth.net.getId();case 4:return n=e.sent,f(n),v(j(n)),s(!1),w(null),e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(1),w("Network error: web3 not available ".concat(e.t0.message.replace("\\n",""))),s(!1),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,null,[[1,12]])}));return function(){return e.apply(this,arguments)}}(),j=function(e){switch(parseInt(e)){case 1:return"MainNet";case 2:return"Morden";case 3:return"Ropsten";case 4:return"Rinkeby";case 5:return"Goerli";case 85458545:return"Local";case 10:return"DEV";default:return"unknown"}};return Object(n.useEffect)(function(){!function(){var e=window.ethereum;void 0!==e?(N(new ra.a(e)),console.info("Injected web3 detected. We will override web3 provider. Your plugin might not work anymore.")):N(la),window.web3=x}(),C()},[]),r.a.createElement(ca.Provider,{value:{network:E,networkId:p,networkError:k,loading:l,web3:x,getNetwork:j,utils:x.utils,eth:x.eth}},t)}),oa=function(e){var t=e.onSuccess,a=void 0===t?function(){}:t,c=Object(n.useState)(!1),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(!1),p=Object(d.a)(i,2),f=p[0],b=p[1],h=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}return o(!0),b(!1),e.abrupt("return");case 4:return e.prev=4,e.next=7,window.ethereum.enable();case 7:t=e.sent,o(!0),b(!0),setTimeout(function(){a(t[0])},1e3),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),o(!0),b(!1);case 17:case"end":return e.stop()}},e,null,[[4,13]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){h()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Checking for MetaMask...",s&&f?"Successful":s&&!f&&"Failed"),!f&&s&&r.a.createElement("p",null,"We could not find your MetaMask Account, please make sure MetaMask is running and you are logged in."))},ia=a(483),ua=a.n(ia),ma=a(484),da=a.n(ma),pa=function(e){if(window.ethereum&&e){var t={EUR36:da.a,CHF36:ua.a};window.ethereum.sendAsync({method:"metamask_watchAsset",params:{type:"ERC20",options:{address:e[0].tokenAddress,symbol:e[0].symbol,decimals:18,image:t[e[0].symbol]}},id:Math.round(1e5*Math.random())},function(a){a||window.ethereum.sendAsync({method:"metamask_watchAsset",params:{type:"ERC20",options:{address:e[1].tokenAddress,symbol:e[1].symbol,decimals:18,image:t[e[1].symbol]}},id:Math.round(1e5*Math.random())},function(e){})})}},fa=function(e){switch(parseInt(e)){case 1:return"MainNet";case 2:return"Morden";case 3:return"Ropsten";case 4:return"Rinkeby";case 5:return"Goerli";case 85458545:return"Local";case 10:return"DEV";case 42:return"Kovan";default:return e}},ba=(a(950),Object(p.b)(function(e){return{tokens:e.tokens.tokens}})(function(e){var t,a=e.addWallet,c=e.walletList,l=e.tokens,s=Object(n.useState)(null),o=Object(d.a)(s,2),i=o[0],p=o[1],f=Object(n.useState)(null),b=Object(d.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),y=g[0],k=g[1],w=Object(n.useState)(null),_=Object(d.a)(w,2),O=_[0],x=_[1],N=Object(n.useContext)(ca).getNetwork,C=Object(n.useContext)(Aa).onCloseDialogs,j=Object(n.useState)(We(c.length)),S=Object(d.a)(j,2),T=S[0],A=S[1],I=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.prev=2,e.next=5,pa(l);case 5:return e.next=7,a(i,Ia.metamask,window.ethereum.networkVersion,T);case 7:x(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),E(e.t0),k(!1);case 14:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),L=c.filter(function(e){return e.accountAddress===i})[0];return window.ethereum&&(t=N(window.ethereum.networkVersion)),r.a.createElement("div",{className:"add-mm-wallet"},r.a.createElement("img",{src:jt.a,alt:"MetaMask"}),r.a.createElement(oa,{onSuccess:p}),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Wallet address: ",i),r.a.createElement("p",null,"Network:"," ","unknown"!==t?t:window.ethereum.networkVersion),L&&!O&&r.a.createElement("p",null,"Wallet already registered with user"),!O&&!L&&r.a.createElement(aa,{onChange:function(e){return A(e.target.value)},value:T,error:h,onSubmit:I,submitting:y})),O&&r.a.createElement("div",{className:"add-mm-wallet__submitted"},r.a.createElement("div",null,r.a.createElement(Zt.a,{className:"icon-success"}),"Your wallet will be verified and added to the blockchain in the background. It will take 10 minutes, sometimes a couple of hours to get processed. You will be notified when ready; please be patient."),r.a.createElement(Ot,{onClick:C},"Close")))})),ha=a(296),Ea=a.n(ha),va=a(485),ga=a.n(va),ya=a(486),ka=a.n(ya),wa=(a(956),[{url:"https://itunes.apple.com/us/app/uport-id/id1123434510",icon:ga.a,alt:"app-store-badge"},{url:"https://play.google.com/store/apps/details?id=com.uportMobile",icon:ka.a,alt:"google-play-badge"}]),_a=function(e){var t=e.onSuccess,a=e.onError,c=e.type,l=Object(n.useState)(null),s=Object(d.a)(l,2),o=s[0],i=s[1],p=Object(n.useRef)(!0),f=Object(n.useRef)(new Yt.a(window.navigator.userAgent)),b=!f.current.mobile()||f.current.mobile()&&f.current.tablet(),h=function(){var e=Object(m.a)(u.a.mark(function e(){var n,r,l,s,o,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt(c);case 3:if(n=e.sent,r=n.data,l=r.callbackUrl,s=r.uri,o=r.mobileUri,!f.current.mobile()||f.current.tablet()){e.next=8;break}return window.location.assign(o),e.abrupt("return");case 8:if(!p.current){e.next=14;break}return i(s),e.next=12,qt(l,function(){return!p.current});case 12:m=e.sent,t(m);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),a(e.t0.message);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){return h(),function(){p.current=!1}},[]),r.a.createElement("div",{className:"uport-login"},b&&r.a.createElement("div",{className:"uport-login__qr"},o?r.a.createElement(Ea.a,{value:o,size:250}):r.a.createElement("div",{className:"blur"},r.a.createElement(Ea.a,{size:250,value:""}))),r.a.createElement("div",{className:"uport-login__stores"},r.a.createElement("p",null,"Need a uPort Account?"),r.a.createElement("div",{className:"login__apps"},wa.map(function(e){return r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",key:e.alt},r.a.createElement("img",{src:e.icon,alt:e.alt}))}))))},Oa=(a(957),function(e){var t=e.addWallet,a=e.walletList,c=Object(n.useState)(null),l=Object(d.a)(c,2),s=l[0],i=l[1],p=Object(n.useState)(null),f=Object(d.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(We(a.length)),v=Object(d.a)(E,2),g=v[0],y=v[1],k=Object(n.useState)(null),w=Object(d.a)(k,2),_=w[0],O=w[1],x=Object(n.useState)(null),N=Object(d.a)(x,2),C=N[0],j=N[1],S=Object(o.h)(),T=Object(n.useContext)(ca),A=T.network,I=T.networkId,L=Object(n.useContext)(Aa),F=L.isUportWallet,D=L.onCloseDialogs,P=L.mainWallet,R=L.setLoggedInWallet,B=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!S.hash.includes("access_token")){e.next=6;break}return e.next=4,zt(S.hash.split("=")[1]);case 4:t=e.sent,i(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),O(!0),e.prev=2,e.next=5,t(s.address,Ia.uport,I,g,s.username);case 5:j(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),h(e.t0),O(!1);case 12:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){F&&B()},[]),Object(n.useEffect)(function(){if(P&&s&&P.accountAddress===s.address){var e=s.pushToken,t=s.boxPub;R(Object(U.a)({},P,{pushToken:e,boxPub:t}))}},[P,s]);var M=a.filter(function(e){return s?e.accountAddress===s.address:null})[0];return r.a.createElement("div",{className:"add-uport-wallet"},r.a.createElement("img",{src:Nt.a,alt:"uPort",className:s?"align-left":""}),s&&r.a.createElement("div",{className:"add-uport-wallet__creds"},r.a.createElement("p",null,"Address: ",r.a.createElement("span",null,s.address)),r.a.createElement("p",null,"Network: ",A),M&&!C&&r.a.createElement("p",null,"Wallet already registered with user"),!C&&!M&&r.a.createElement(aa,{onChange:function(e){return y(e.target.value)},value:g,error:b,onSubmit:W,submitting:_}),C&&r.a.createElement("div",{className:"add-uport-wallet__submitted"},r.a.createElement("div",null,r.a.createElement(Zt.a,{className:"icon-success"}),"Wallet added successfully"),r.a.createElement(Ot,{onClick:D},"Close"))),!F&&!s&&r.a.createElement(_a,{onSuccess:i,onError:h,type:"wallet"}))}),xa=Object(p.b)(function(e){return{walletList:e.wallets.walletList}},{addWallet:function(e,t,a,n,r){return function(){var c=Object(m.a)(u.a.mark(function c(l){return u.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,he.post("/compliance/wallet/add",{accountAddress:e,walletType:t,networkId:a,shortDescription:n,contractAddress:r});case 3:l(St()),c.next=9;break;case 6:return c.prev=6,c.t0=c.catch(0),c.abrupt("return",$(c.t0));case 9:case"end":return c.stop()}},c,null,[[0,6]])}));return function(e){return c.apply(this,arguments)}}()}})(function(e){var t=e.addWallet,a=e.walletList,c=Object(n.useState)(0),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useContext)(Aa),u=i.isUportWallet,m=i.onCloseDialogs;return Object(n.useEffect)(function(){u&&o(1)},[]),r.a.createElement("div",{className:"new-wallet dialog-content"},r.a.createElement(gt.a,{className:"dialog-close",onClick:m,"data-testid":"add-wallet-dialog__close"}),function(){switch(s){case 1:return r.a.createElement(Oa,{addWallet:t,walletList:a});case 2:return r.a.createElement(ba,{addWallet:t,walletList:a});default:return r.a.createElement(Xt,{onClick:o})}}())}),Na=(a(958),function(){var e=Object(n.useContext)(Aa),t=e.onCloseDialogs,a=e.mainWallet,c=e.setLoggedInWallet,l=e.loggedInWallet,s=Object(n.useMemo)(function(){return a.walletType===Ia.metamask},[a]),o=Object(n.useState)(null),i=Object(d.a)(o,2),u=i[0],m=i[1];return r.a.createElement("div",{className:"wallet-login dialog-content"},r.a.createElement(gt.a,{className:"dialog-close",onClick:t,"data-testid":"add-wallet-dialog__close"}),a&&l&&r.a.createElement("p",null,"You're already logged into your wallet."),a&&!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:s?jt.a:Nt.a,alt:s?"MetaMask":"uPort"}),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(oa,{onSuccess:function(e){m(e)}}),u&&u!==a.accountAddress&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Main wallet address:"," ",r.a.createElement("span",null,a.accountAddress)),r.a.createElement("p",null,"MetaMask address: ",r.a.createElement("span",null,u)),r.a.createElement("p",null,"Please select the proper MetaMask account"))):r.a.createElement(_a,{onError:function(){},onSuccess:function(e){var n=e.address,r=e.pushToken,l=e.boxPub;n===a.accountAddress&&(c(Object(U.a)({},a,{pushToken:r,boxPub:l})),t())},type:"login"})))}),Ca=a(1243),ja=r.a.forwardRef(function(e,t){return r.a.createElement(Ca.a,Object.assign({direction:"right",ref:t},e))}),Sa=function(e){var t=e.children,a=e.open,n=e.onClose;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{isMobile:!0},r.a.createElement(yt.a,{open:a,onClose:n,maxWidth:!1,TransitionComponent:ja,fullScreen:!0},t)),r.a.createElement(v,null,r.a.createElement(yt.a,{open:a,onClose:n,maxWidth:!1},t)))},Ta=window.ethereum,Aa=r.a.createContext(),Ia={uport:"UPORT",metamask:"METAMASK"},La=Object(p.b)(function(e){var t=e.wallets,a=t.walletList,n=t.loggedInWallet;return{mainWallet:Ue(a),loggedInWallet:n}},{setLoggedInWallet:function(e){return{type:"SET_LOGGEDIN_WALLET",payload:e}},removeLoggedInWallet:function(){return{type:"REMOVE_LOGGEDIN_WALLET"}}})(function(e){var t=e.children,a=e.mainWallet,c=e.loggedInWallet,l=e.setLoggedInWallet,s=e.removeLoggedInWallet,i=Object(n.useState)(!1),p=Object(d.a)(i,2),f=p[0],b=p[1],h=Object(n.useState)(!1),E=Object(d.a)(h,2),v=E[0],g=E[1],y=Object(n.useState)(!1),k=Object(d.a)(y,2),w=k[0],_=k[1],O=Object(n.useRef)(new Yt.a(window.navigator.userAgent)),x=Object(o.h)(),N=Object(o.g)(),C=function(){w&&(_(!1),N.replace(x.pathname)),f&&b(!1),v&&g(!1)},j=function(e){return x.hash.includes("access_token")&&("wallet"===e||"login"===e)&&O.current.mobile()&&!O.current.tablet()},S=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,c,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!x.hash.includes("access_token")){e.next=8;break}return e.next=4,zt(x.hash.split("=")[1]);case 4:a=e.sent,n=a.data,r=n.boxPub,c=n.pushToken,s=n.address,t.accountAddress===s&&l(Object(U.a)({},t,{pushToken:c,boxPub:r})),N.replace(x.pathname);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){var e=Be(x.search,"type");j(e)&&(_(!0),"wallet"===e&&b(!0))},[]),Object(n.useEffect)(function(){var e=Be(x.search,"type"),t=function(e){a&&a.walletType===Ia.metamask&&(a.accountAddress===e[0]?l(a):s())};if(a&&a.walletType===Ia.uport&&(c&&a.accountAddress!==c.accountAddress&&s(),j(e)&&"login"===e&&S(a)),a&&a.walletType===Ia.metamask&&Ta){var n=Ta.selectedAddress===a.accountAddress;!n&&c&&s(),n&&!c&&l(a)}return Ta&&Ta.on("accountsChanged",t),function(){Ta&&Ta.removeListener("accountsChanged",t)}},[a,c]),r.a.createElement(Aa.Provider,{value:{onCloseDialogs:C,onOpenAdd:function(){return b(!0)},onOpenLogin:function(){return g(!0)},isUportWallet:w,setIsUportWallet:_,md:O,setLoggedInWallet:l,mainWallet:a,loggedInWallet:c}},t,r.a.createElement(Sa,{open:f,onClose:C},r.a.createElement(xa,null)),r.a.createElement(Sa,{open:v,onClose:C},r.a.createElement(Na,null)))}),Fa=(a(959),function(e){var t=e.primary,a=void 0===t||t,c=Object(n.useContext)(Aa).onOpenAdd;return a?r.a.createElement(Oe,{className:"add-wallet-button",variant:"contained",onClick:c},r.a.createElement(Wt.a,null),"Add Wallet"):r.a.createElement(Ot,{className:"add-wallet-button",variant:"contained",onClick:c},r.a.createElement(Wt.a,null),"Add Wallet")}),Da=(a(960),Object(p.b)(function(e){return{walletList:e.wallets.walletList}})(function(e){var t=e.walletList,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],o=function(){return s(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(ot.a,{onClick:function(){return s(!0)}},r.a.createElement("span",null,"Manage Wallets")),r.a.createElement(yt.a,{open:l,onClose:o,maxWidth:!1,className:"manage-wallets-wrapper"},r.a.createElement("div",{className:"manage-wallets__content"},r.a.createElement("div",{className:"manage-wallets__header"},r.a.createElement("h3",null,"Manage Wallets"),r.a.createElement(gt.a,{className:"manage-wallet__close",onClick:o,"data-testid":"manage-wallet__close"})),r.a.createElement("div",null,t.length?t.map(function(e){return r.a.createElement(Ut,{key:e.accountAddress,wallet:e})}):"You have no wallets registered. You can register one by clicking below."),r.a.createElement(Fa,null))))})),Pa=(a(961),function(e){var t=e.logout,a=e.user,c=a.avatarUri,l=a.name,o=a.username,i=a.currentLevel,u=Object(n.useState)(!1),m=Object(d.a)(u,2),p=m[0],f=m[1],b=function(){f(!1)};return r.a.createElement("div",{className:"header__menu"},r.a.createElement(Et,{avatarUrl:c,alt:l,cssClass:"header__menu__image",username:o}),r.a.createElement(st.a,{onClickAway:b},r.a.createElement("span",{className:"header__menu__anchor"},r.a.createElement(ut.a,{onClick:function(){f(!p)},className:"header__menu__icon"}),r.a.createElement("div",{className:"paper header__menu__content".concat(p?" header__menu__content--active":"")},r.a.createElement(Da,null),"Tier_2"===i?r.a.createElement(ot.a,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/forms/d/e/1FAIpQLSfmui57gNtK-wbjdPCl4iBdi3LLLEz01H67nT4trXhA4nwCdw/viewform"},"Register an organization")):r.a.createElement(ot.a,{style:{opacity:"0.5"}},r.a.createElement(lt.a,{title:"You need to be a verified user to register an organization"},r.a.createElement("span",null,"Register an organization"))),r.a.createElement(ot.a,{onClick:b},r.a.createElement(s.b,{to:"/contacts"},"Contacts")),r.a.createElement(ot.a,{onClick:b},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://forms.gle/bpMP9bgQraWFNaFLA"},"Report Error/Feedback")),r.a.createElement(ot.a,{onClick:b},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://forms.gle/QFutLWY8yr5iUBcY8"},"Recover funds")),r.a.createElement(ot.a,{onClick:t},r.a.createElement("span",null,"Logout"))))))}),Ra=a(30),Ua=a.n(Ra),Ba=function(e){return{type:"UPDATE_BADGE_COUNT",payload:e}},Wa=a(298),Ma=a.n(Wa),Ya=a(487),Va=a.n(Ya),qa=a(488),za=a.n(qa),Ha=(a(962),function(e){var t=e.type,a=e.header,n=e.message,c=e.creationDate,l=e.lastRead;return r.a.createElement("div",{className:"notification ".concat(c>l?"notification--unread":"")},function(e){return"PAYMENT"===e||"PAYOUT"===e||"TRANSFER"===e?r.a.createElement("img",{src:Ma.a,alt:e}):"ERROR"===e?r.a.createElement("img",{src:Va.a,alt:e}):"TIER_2_CONFIRMED"===e?r.a.createElement("img",{src:za.a,alt:e}):r.a.createElement("img",{src:Ma.a,alt:e})}(t),r.a.createElement("div",{className:"notification__content"},r.a.createElement("span",null,a),r.a.createElement("span",null,n)),r.a.createElement("div",{className:"notification__time"},function(e){var t=Ua()(),a=Ua()(t).diff(e,"days"),n=Ua()(t).diff(e,"hours"),r=Ua()(t).diff(e,"minutes");return a<=3&&0!==a?"".concat(a,"d"):a>3?Ua()(e).format("MMM DD"):n?"".concat(n,"h"):r?"".concat(r,"m"):"0m"}(c)))}),Ga=(a(963),Object(p.b)(function(e){return{notifications:e.notifications}},{updateLastRead:function(e){return{type:"UPDATE_LAST_READ",payload:e}},resetBadgeCount:function(){return{type:"UPDATE_BADGE_COUNT",payload:0}}})(function(e){var t=e.notifications,a=t.badgeCount,c=t.notifications,l=t.lastRead,s=e.updateLastRead,o=e.resetBadgeCount,i=Object(n.useState)(!1),u=Object(d.a)(i,2),m=u[0],p=u[1],f=function(){var e=(new Date).toISOString();s(e),o(),localStorage.setItem("lastRead",e)};return r.a.createElement(st.a,{onClickAway:function(){m&&(p(!1),f())}},r.a.createElement("div",{className:"header__alerts"},r.a.createElement("span",{className:"header__alerts__icon",onClick:function(){c.length&&(m&&f(),p(!m))}},!!a&&r.a.createElement("span",{className:"header__alerts__counter"},a)),c&&!!c.length&&r.a.createElement("div",{className:"header__alerts__content ".concat(m?"header__alerts--active":"")},c&&c.map(function(e){return r.a.createElement(Ha,Object.assign({},e,{lastRead:l,key:e.creationDate}))}))))})),Ka=[{label:"Home",url:"/"},{label:"Buy",url:"/buy"},{label:"Sell",url:"/sell"},{label:"Use",url:"/use"},{label:"History",url:"/history"}],Xa=Object(p.b)(function(e){return{hasWallet:Boolean(e.wallets.walletList.length)}})(function(e){var t=e.logout,a=e.user,c=e.hasWallet;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",null,Ka.map(function(e){return c||"Sell"!==e.label?r.a.createElement("li",{key:e.label},r.a.createElement(s.c,{exact:!0,activeClassName:"selected",to:e.url},e.label)):r.a.createElement("li",{key:e.label},r.a.createElement(lt.a,{title:"You need to add a Wallet to be able to sell Tokens"},r.a.createElement("span",null,e.label)))})),r.a.createElement("div",null,r.a.createElement(Ga,null),r.a.createElement(Pa,{logout:t,user:a})))}),Qa=a(47),Za=a.n(Qa),Ja={Tier_0:{text:"Tier 0",btnText:"Verify Account",badgeClass:"user-profile__avatar__badge--tier0"},Tier_1:{text:"Tier 1",btnText:"Continue verification",badgeClass:"user-profile__avatar__badge--tier1"},Tier_2:{text:"Verified",badgeClass:"user-profile__avatar__badge--tier2"}},$a=function(e){var t=e.currentProcessStatus,a=e.caseId;return"CLOSED"===t?null:"NOT_STARTED"===t?r.a.createElement(s.b,{to:"/kyc/start","data-testid":"verification-button"},r.a.createElement(Oe,{variant:"contained"},"Verify Account")):"AWAITING_VERIFICATION"!==t&&"NOT_STARTED"!==t?r.a.createElement(s.b,{to:"/kyc/".concat(a),"data-testid":"verification-button"},r.a.createElement(Oe,{variant:"contained"},"Continue Verification")):"AWAITING_VERIFICATION"===t?r.a.createElement("div",{className:"user-profile__buttons--awaiting","data-testid":"verification-button"},"Awaiting Verification"):void 0},en=a(131),tn=a.n(en),an=a(209),nn=a.n(an),rn=(a(964),Object(p.b)(function(e){return{walletList:e.wallets.walletList}})(function(e){var t=e.walletList,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],o=function(){return s(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(lt.a,{title:"Manage Wallets"},r.a.createElement("button",{type:"button",className:"manage-wallets__wallet-button",onClick:function(){return s(!0)}},r.a.createElement(nn.a,null))),r.a.createElement(yt.a,{open:l,onClose:o,maxWidth:!1,className:"manage-wallets-wrapper"},r.a.createElement("div",{className:"manage-wallets__content"},r.a.createElement("div",{className:"manage-wallets__header"},r.a.createElement("h3",null,"Manage Wallets"),r.a.createElement(gt.a,{className:"manage-wallet__close",onClick:o,"data-testid":"manage-wallet__close"})),r.a.createElement("div",null,t.length?t.map(function(e){return r.a.createElement(Ut,{key:e.accountAddress,wallet:e})}):"You have no wallets registered. You can register one by clicking below."),r.a.createElement(Fa,null))))})),cn=a(210),ln=a.n(cn),sn=a(489),on=a.n(sn),un=function(e,t){if(e.length<=t)return e;var a=e.substring(0,6),n=e.substring(e.length-4,e.length);return"".concat(a,"...").concat(n)},mn=(a(965),Object(n.memo)(function(e){var t=e.text,a=e.showAsText,c=void 0!==a&&a,l=e.truncated,s=void 0!==l&&l,o=Object(n.useState)(!1),i=Object(d.a)(o,2),u=i[0],m=i[1],p=Object(n.useRef)(),f=function(){p.current.select(),p.current.setSelectionRange(0,99999),document.execCommand("copy"),m(!0),setTimeout(function(){m(!1)},550)};return r.a.createElement("div",{className:"copy-to-clipboard","data-testid":"copy-to-clipboard"},c?r.a.createElement("span",{className:u?"copy-to-clipboard__tooltip":null,onClick:f},s?un(t):t):r.a.createElement("span",{className:u?"copy-to-clipboard__tooltip":null,onClick:f},r.a.createElement("button",null,r.a.createElement(on.a,null))),r.a.createElement("textarea",{value:t,ref:p,onChange:function(){}}))})),dn=(a(966),Object(p.b)(function(e){return{contacts:e.contacts.contactsList,wallets:e.wallets.walletList,contracts:e.contracts.contracts}})(function(e){var t=e.address,a=e.truncated,c=void 0!==a&&a,l=e.contracts,s=void 0===l?[]:l,o=e.contacts,i=void 0===o?[]:o,u=e.wallets,m=void 0===u?[]:u,p=Object(n.useContext)(ca),f=p.network,b=p.networkId,h=Object(n.useState)(""),E=Object(d.a)(h,2),g=E[0],y=E[1],k=Object(n.useState)(!1),w=Object(d.a)(k,2),_=w[0],O=w[1];return Object(n.useEffect)(function(){var e=s.find(function(e){return e.contractAddress===t}),a=i.find(function(e){return e.contactAddress===t}),n=m.find(function(e){return e.accountAddress===t});n?y(n.shortDescription):e?y(e.name):e&&y(a.contactName)},[]),r.a.createElement("div",{className:"zerox-address",onMouseEnter:function(){O(!0)},onMouseLeave:function(){O(!1)}},_&&g&&r.a.createElement("div",{className:"zerox-address__hovered"},g),r.a.createElement(v,null,r.a.createElement(mn,{text:t,showAsText:!0,truncated:c})),r.a.createElement(v,{isMobile:!0},r.a.createElement(mn,{text:t,showAsText:!0,truncated:!0})),r.a.createElement(lt.a,{title:"See on Etherscan"},r.a.createElement("a",{href:"https://".concat(f&&1!==b?"".concat(f.toLowerCase(),"."):"","etherscan.io/address/").concat(t),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ln.a,null))))})),pn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.useRef)(!0),r=Object(n.useState)(t),c=Object(d.a)(r,2),l=c[0],s=c[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),p=i[0],f=i[1],b=Object(n.useCallback)(Object(m.a)(u.a.mark(function t(){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:n=t.sent,a.current&&s(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a.current&&f(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])})),[a]);return Object(n.useEffect)(function(){return b(),function(){a.current=!1}},[]),[l,p,b]},fn=(a(967),Object(p.b)(function(e){var t=e.wallets;return{walletList:t.walletList,loggedInWallet:t.loggedInWallet}})(function(e){var t=e.walletList,a=t.length>0,c=Object(n.useContext)(Aa).loggedInWallet,l=Object(n.useState)(!1),s=Object(d.a)(l,2),o=s[0],i=s[1];console.log(c);var u=pn(Rt,"1"),m=Object(d.a)(u,2),p=m[0],f=m[1];if(Object(n.useEffect)(function(){if(window.ethereum){var e=window.ethereum.networkVersion;if(f)return;parseInt(p,10)!==parseInt(e,10)?i(!0):i(!1)}},[p]),!a)return r.a.createElement("div",{className:"walletless-mode"},r.a.createElement(tn.a,null),r.a.createElement("div",null,"You are now in WALLET-FREE mode"));if(a){var b=Ue(t);return r.a.createElement("div",{className:"wallet-login-mode",style:{opacity:c?1:.5},"data-testid":"wallet-mode"},r.a.createElement(rn,null),r.a.createElement("div",{className:"wallet-login-mode__name"},r.a.createElement("div",null,b.shortDescription),r.a.createElement("div",{style:{marginRight:"0.4rem"}},r.a.createElement(dn,{address:b.accountAddress,truncated:!0})),!c&&r.a.createElement(lt.a,{title:"Your Wallet (Metamask/Uport) is not logged in or different then your cash36 main wallet (".concat(b.shortDescription,").")},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}))),o&&!f&&p&&window.ethereum&&r.a.createElement("div",{className:"wallet-login-mode__diverged-network"},r.a.createElement(lt.a,{title:"Web3 network is ".concat(fa(window.ethereum.networkVersion),", but Server is connected to ").concat(fa(p))},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}))))}return null})),bn=(a(968),Object(p.b)(function(e){return{user:e.auth.user}})(function(e){var t=e.user,a=e.alt,n=t.username,c=t.avatarUri,l=t.name,s=t.currentLevel,o=t.currentProcessStatus,i=t.caseId;return s||(s="Tier_0"),r.a.createElement("div",{"data-testid":"user-profile",className:"user-profile ".concat(a?"user-profile--alt":"")},r.a.createElement("div",{className:"user-profile__avatar"},r.a.createElement(Et,{avatarUrl:c,alt:l,cssClass:"user-profile__avatar__image",username:n,isEditable:!0}),s&&r.a.createElement("div",{"data-testid":"tier-badge",className:"user-profile__avatar__badge ".concat(Ja[s].badgeClass)}),r.a.createElement("span",{className:s})),r.a.createElement("div",{className:"user-profile__info"},r.a.createElement("p",null,r.a.createElement("span",null,n)," (",s&&Ja[s].text," ","user)","Tier_2"!==s&&r.a.createElement(lt.a,{title:"Verification process incomplete"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}))),r.a.createElement(fn,null),r.a.createElement("div",{className:"user-profile__buttons"},r.a.createElement($a,{currentProcessStatus:o,caseId:i}),r.a.createElement(Fa,{primary:!1}))))})),hn=Object(p.b)(function(e){return{walletList:e.wallets.walletList}})(function(e){var t=e.walletList,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1];return r.a.createElement(n.Fragment,null,r.a.createElement("li",{onClick:function(){return s(!0)}},r.a.createElement("span",null,"Manage Wallets",r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"}))),r.a.createElement("div",{className:"manage-wallets-wrapper ".concat(l?"--open":"")},r.a.createElement("div",{className:"manage-wallets__content"},r.a.createElement("div",{className:"manage-wallets__header"},r.a.createElement("h3",null,"Manage Wallets"),r.a.createElement(gt.a,{className:"manage-wallet__close",onClick:function(){return s(!1)},"data-testid":"manage-wallet__close"})),r.a.createElement("div",null,t.length?t.map(function(e){return r.a.createElement(Ut,{key:e.accountAddress,wallet:e})}):"You have no wallets registered. You can register one by clicking below."),r.a.createElement(Fa,null))))}),En=(a(969),Object(p.b)(function(e){return{hasWallet:Boolean(e.wallets.walletList.length)}})(function(e){var t=e.isActive,a=e.logout,n=e.clickCallback,c=e.currentLevel,l=e.hasWallet;return r.a.createElement("div",{className:"header__mobile-dropdown ".concat(t?"active":"")},r.a.createElement(bn,{alt:!0}),r.a.createElement("ul",{className:"paper"},Ka.map(function(e){return l||"Sell"!==e.label?r.a.createElement("li",{key:e.label},r.a.createElement(s.c,{exact:!0,activeClassName:"selected",to:e.url,onClick:n},e.label,r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"}))):r.a.createElement("li",{key:e.label,style:{opacity:"0.5"}},r.a.createElement("span",null,e.label,r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"})))}),"Tier_2"===c?r.a.createElement("li",null,r.a.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfmui57gNtK-wbjdPCl4iBdi3LLLEz01H67nT4trXhA4nwCdw/viewform"},"Create organization",r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"}))):r.a.createElement("li",null,r.a.createElement("span",{style:{opacity:"0.5"}},"Create organization",r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"}))),r.a.createElement(hn,null),r.a.createElement("li",null,r.a.createElement(s.c,{exact:!0,activeClassName:"selected",to:"/contacts",onClick:n},"Contacts",r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"}))),r.a.createElement("li",{onClick:a},r.a.createElement("span",null,"Logout",r.a.createElement(Za.a,{className:"header__mobile-dropdown__icon"})))))})),vn=function(e){var t=e.logout,a=e.currentLevel,c=Object(n.useState)(!1),l=Object(d.a)(c,2),s=l[0],o=l[1],i=function(){o(!s)};return r.a.createElement("div",null,r.a.createElement(Ga,null),r.a.createElement(_,{isActive:s,clickHandler:i}),r.a.createElement(En,{logout:t,isActive:s,clickCallback:i,currentLevel:a}))},gn=(a(970),Object(p.b)(function(e){return{auth:e.auth,notifications:e.notifications}},{logout:ee,fetchNotifications:function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/exchange/notifications");case 3:a=e.sent,t({type:"FETCH_NOTIFICATIONS",payload:a.data}),n=Ua()(localStorage.getItem("lastRead")),r=0,a.data.forEach(function(e){n.isSameOrBefore(e.creationDate)&&r++}),t(Ba(r)),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},getTokens:Ft,getUserActivity:Dt,getUserInfo:te,getWallets:St},null,{pure:!1})(function(e){var t=e.auth.user,a=e.notifications,c=a.badgeCount,l=a.notifications,s=e.logout,o=e.fetchNotifications,i=e.getTokens,d=e.getUserActivity,p=e.getUserInfo,f=e.getWallets;Object(n.useEffect)(function(){if(0!==c){var e=l.slice(0,c),t=e.some(function(e){return"PAYMENT"===e.type||"PAYOUT"===e.type||"TRANSFER"===e.type}),a=e.some(function(e){return"TIER_2_CONFIRMED"===e.type});t&&(i(),d()),a&&p()}},[c]);var b=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){o(),f();var e=setInterval(function(){return b()},6e4);return function(){clearInterval(e)}},[]);var h=t.currentLevel;return r.a.createElement("header",null,r.a.createElement(k,null),r.a.createElement(v,null,r.a.createElement(Xa,{logout:s,user:t})),r.a.createElement(v,{isMobile:!0},r.a.createElement(vn,{logout:s,currentLevel:h})))})),yn=(a(971),function(){var e=Object(n.useRef)(!1),t=Object(n.useState)({active:!0,visible:!0}),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(p.d)(function(e){var t=e.contacts,a=e.tokens;return{fetchingContacts:t.fetching,fetchingTokens:a.fetchingTokens,fetchingFilters:a.fetchingFilters}},p.c),o=s.fetchingContacts,i=s.fetchingFilters,u=s.fetchingTokens,m=function(){!e.current||!c.active||o||i||u||(l(Object(U.a)({},c,{visible:!1})),setTimeout(function(){l(Object(U.a)({},c,{active:!1}))},1e3))};return Object(n.useEffect)(function(){m()},[o,i,u]),Object(n.useEffect)(function(){return e.current=!0,setTimeout(function(){m()},3e3),function(){return e.current=!1}},[]),c.active?r.a.createElement("div",{"data-testid":"page-loader",className:"page-loader ".concat(c.visible?"--active":"")},r.a.createElement($t.a,{color:"secondary",size:50})):null}),kn=a(211),wn=a.n(kn),_n=a(490),On=a.n(_n),xn=[{link:"/buy",Icon:wn.a,label:"Buy"},{link:"/sell",Icon:On.a,label:"Sell"},{link:{pathname:"/buy",state:{quickActions:!0}},Icon:ye.a,label:"Send"}],Nn=(a(972),Object(p.b)(function(e){return{hasWallet:Boolean(e.wallets.walletList.length)}})(function(e){var t=e.hasWallet;return r.a.createElement("div",{className:"quick-actions"},r.a.createElement("div",null,"Quick Actions"),r.a.createElement("div",{className:"".concat(t?"":"no-wallet")},xn.map(function(e){var a=e.link,n=e.Icon,c=e.label;return t||"Sell"!==c?r.a.createElement(s.b,{key:c,to:a,className:"quick-actions__button quick-actions__button--active"},r.a.createElement("div",null,r.a.createElement(n,null)),r.a.createElement("div",null,c)):r.a.createElement(lt.a,{key:c,title:"You need to add a Wallet to be able to sell Tokens"},r.a.createElement("div",{className:"quick-actions__button quick-actions__button--inactive"},r.a.createElement("div",null,r.a.createElement(n,null)),r.a.createElement("div",null,c)))})))})),Cn=function(e,t){return Ua()(e,"DD-MM-YYYY").format(t)},jn=(a(973),function(e){var t=e.date;return r.a.createElement(lt.a,{title:t},r.a.createElement("div",{className:"activity-table-date"},r.a.createElement("div",null,Cn(t,"MMM")),r.a.createElement("div",null,Cn(t,"DD"))))}),Sn=a(492),Tn=a.n(Sn),An=a(491),In=a.n(An),Ln=a(493),Fn=a.n(Ln),Dn=a(494),Pn=a.n(Dn),Rn={COMPLETED:{cssClass:"activity-table-status__complete",Icon:r.a.createElement(In.a,{className:"activity-table-status__icon"}),text:"Completed"},PROCESSING:{cssClass:"activity-table-status__processing",Icon:r.a.createElement(Tn.a,{className:"activity-table-status__icon"}),text:"Processing"},ON_HOLD:{cssClass:"activity-table-status__on-hold",Icon:r.a.createElement(Fn.a,{className:"activity-table-status__icon"}),text:"On Hold"},OPEN:{cssClass:"activity-table-status__open",Icon:r.a.createElement(Pn.a,{className:"activity-table-status__icon"}),text:"Open"}},Un=(a(974),function(e){var t=e.status,a=e.openModal;return r.a.createElement("div",{className:"activity-table-status-wrapper"},r.a.createElement("div",{className:"activity-table-status ".concat(Rn[t].cssClass)},Rn[t].Icon,r.a.createElement("div",{className:"activity-table-status__text"},Rn[t].text)),"OPEN"===t&&r.a.createElement("span",{onClick:a,"data-testid":"activity-table-status__info"},r.a.createElement(tn.a,null)))}),Bn=a(495),Wn=a.n(Bn),Mn=a(496),Yn=a.n(Mn),Vn=(a(975),function(e){var t=e.type,a=e.targetAddress,n=e.sourceAddress;e.etherscanLink;return r.a.createElement("div",{className:"activity-table-action"},r.a.createElement("div",null,function(e){return"BUY"===e?"Creating new tokens":"SELL"===e?"Selling (burning) tokens":"SENT"===e?"Sending tokens to":"RECEIVED"===e?"Received tokens":"APPROVED"===e?"Approved token spending":void 0}(t)),n&&r.a.createElement("span",null,r.a.createElement("img",{src:Wn.a,alt:""}),r.a.createElement(v,{isTablet:!0},r.a.createElement(dn,{address:n,truncated:!0})),r.a.createElement(v,{isDesktop:!0},r.a.createElement(dn,{address:n}))),r.a.createElement("span",null,r.a.createElement("img",{src:Yn.a,alt:""}),r.a.createElement(v,{isTablet:!0},r.a.createElement(dn,{address:a,truncated:!0})),r.a.createElement(v,{isDesktop:!0},r.a.createElement(dn,{address:a}))))}),qn=function(e){isNaN(e)&&(e=Number.parseFloat(e));var t=navigator.language||navigator.userLanguage;return t&&""!==t||(t="de-DE"),new Intl.NumberFormat(t,{minimumFractionDigits:2}).format(e)},zn=function(e){return e.replace(/,/g,".")},Hn=function(e){return e.substring(0,3)},Gn=(a(976),function(e){var t=e.type,a=e.amount,n=e.symbol;return r.a.createElement("div",{className:"activity-table-amount"},r.a.createElement("div",null,"BUY"===t||"RECEIVED"===t?"+":"SELL"===t||"SENT"===t?"-":"",qn(a)),r.a.createElement("div",null,n))}),Kn=(a(977),function(e){var t=e.children,a=e.importedIcon,n=void 0!==a&&a,c=e.exclamation,l=void 0!==c&&c;return r.a.createElement("div",{className:"question-mark"},n?r.a.createElement("div",{className:"imported-icon"},n):r.a.createElement("div",{className:"question-mark__icon"},l?"!":"?"),r.a.createElement("div",{className:"question-mark__content"},t))}),Xn=(a(978),function(e){var t=e.message;return r.a.createElement("div",{className:"message"},r.a.createElement(Kn,{exclamation:!0},t))}),Qn=(a(979),function(e){var t=e.txHash,a=Object(n.useContext)(ca),c=a.network,l=a.networkId;return r.a.createElement("div",{className:"tx-id"},r.a.createElement(lt.a,{title:"See on etherscan"},r.a.createElement("a",{href:"https://".concat(c&&1!==l?"".concat(c.toLowerCase(),"."):"","etherscan.io/tx/").concat(t),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ln.a,null))))}),Zn=(a(980),function(e){var t=e.initiatorUserId;return r.a.createElement("div",{className:"who"},r.a.createElement(Kn,{importedIcon:r.a.createElement("i",{className:"fa fa-user"})},r.a.createElement("div",{className:"who__content"},t)))}),Jn=a(132),$n=(a(981),function(e){var t=e.info,a=e.title,n=e.children,c=e.isModal,l=e.closeModal;return r.a.createElement("div",{className:"payment-info ".concat(c?"__alt":""),"data-testid":"payment-info"},c&&r.a.createElement(gt.a,{"data-testid":"payment-info__close-icon",className:"payment-info__close",onClick:l}),a&&r.a.createElement("h2",{"data-testid":"payment-info__title"},a),r.a.createElement("div",{className:"payment-info__content"},r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Bank Name"),r.a.createElement("span",null,t.bankName)),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Bank Address"),r.a.createElement("span",null,t.bankAddress)),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Receipient Name"),r.a.createElement(mn,{text:t.receipientName,showAsText:!0})),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Receipient Address"),r.a.createElement(mn,{text:t.receipientAddress,showAsText:!0})),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Amount"),r.a.createElement("div",{className:"payment-info__field--copy"},r.a.createElement(mn,{text:t.amount,showAsText:!0})," ",r.a.createElement("span",null,t.currency))),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Swift/BIC"),r.a.createElement(mn,{text:t.bankBic,showAsText:!0})),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Bank Country"),r.a.createElement("span",{className:"payment-info__field--country"},r.a.createElement(Jn.a,{code:t.bankCountryCode,svg:!0,styleProps:{width:"2rem",height:"1.3rem",backgroundSize:"cover",marginRight:".5rem"}}),r.a.createElement("span",null,t.bankCountry))),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Recipient IBAN"),r.a.createElement(mn,{text:t.receipientIban,showAsText:!0})),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",null,"Reference Number/Purpose"),r.a.createElement(mn,{text:t.paymentReferenceId,showAsText:!0})),r.a.createElement("div",{className:"payment-info__field"},r.a.createElement("span",{className:"payment-info__message--warning"},"This must be included exactly for your transfer to work"))),n)}),er=function(e){var t=e.activity,a=Object(n.useState)(t.paymentInfo),c=Object(d.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),u=i[0],m=i[1],p=function(){return m(!1)};return Object(n.useEffect)(function(){t.paymentInfo&&s(t.paymentInfo)},[t.paymentInfo]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"activity-table__row"},r.a.createElement("div",{className:"activity-th-date"},r.a.createElement(jn,{date:t.date})),r.a.createElement("div",{className:"activity-th-action"},r.a.createElement(Vn,{type:t.action,sourceAddress:t.sourceAddress,targetAddress:t.targetAddress})),r.a.createElement("div",{className:"activity-th-txid"},r.a.createElement(Qn,{txHash:t.txHash})),r.a.createElement("div",{className:"activity-th-message"},r.a.createElement(Xn,{message:t.message})),t.initiatorUserId&&r.a.createElement("div",{className:"activity-th-who"},r.a.createElement(Zn,{initiatorUserId:t.initiatorUserId})),r.a.createElement("div",{className:"activity-th-status"},r.a.createElement(Un,{status:t.status,openModal:function(){return m(!0)}})),r.a.createElement("div",{className:"activity-th-amount"},r.a.createElement(Gn,{type:t.action,amount:t.amount,symbol:t.symbol}))),l&&r.a.createElement(yt.a,{onClose:p,open:u,maxWidth:!1},r.a.createElement($n,{title:"Payment Information",info:l,isModal:!0,closeModal:p},r.a.createElement("div",{className:"payment-info__message--credit"},r.a.createElement("p",null,"Please make sure your payment will be triggered from your registered bank account: IBAN ",l.userIban)))))},tr=(a(982),function(e){var t=e.userActivity,a=t.initiatorUserId;return r.a.createElement("div",{className:"activity-table"},r.a.createElement(v,null,r.a.createElement("div",{className:"activity-table__head activity-table__row"},r.a.createElement("div",{className:"activity-th-date"},"Date"),r.a.createElement("div",{className:"activity-th-action"},"Action"),r.a.createElement("div",{className:"activity-th-txid"},"TxId"),r.a.createElement("div",{className:"activity-th-message"},"Message"),a&&r.a.createElement("div",{className:"activity-th-who"},"Who"),r.a.createElement("div",{className:"activity-th-status"},"Status"),r.a.createElement("div",{className:"activity-th-amount"},"Amount"))),r.a.createElement("div",{className:"activity-table__body"},t.map(function(e){return r.a.createElement(er,{activity:e,key:e.id})})))}),ar=a(1218),nr=a(497),rr=a.n(nr),cr=a(498),lr=a.n(cr),sr=a(499),or=a.n(sr),ir=a(500),ur=a.n(ir),mr=a(501),dr=a.n(mr),pr=function(e){switch(e.symbol){case"EUR36":return r.a.createElement("img",{src:rr.a,alt:"EURO TOKEN"});case"USD36":return r.a.createElement("img",{src:lr.a,alt:"DOLLAR TOKEN"});case"GBP36":return r.a.createElement("img",{src:or.a,alt:"POUND TOKEN"});case"CHF36":return r.a.createElement("img",{src:ur.a,alt:"FRANC TOKEN"});case"ETHER":return r.a.createElement("img",{src:dr.a,alt:"ETHER ICON"});default:return null}},fr=(a(983),function(e){var t=e.symbol,a=e.name,n=e.balance;return r.a.createElement("div",{"data-testid":"balance-card",className:"balance-card paper balance-card--".concat(t)},r.a.createElement("div",null,r.a.createElement(ar.a,{variant:"body1",color:"textSecondary"},a," Balance")),r.a.createElement("div",null,r.a.createElement("span",{className:"balance-card__icon"},r.a.createElement(pr,{symbol:t})),r.a.createElement("div",{className:"balance-card__balance"},qn(n)," ",r.a.createElement("span",null,t))))}),br=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ether",a=Object(n.useContext)(ca),r=a.utils,c=a.eth,l=Object(n.useState)(0),s=Object(d.a)(l,2),o=s[0],i=s[1];return Object(n.useEffect)(function(){e&&function(){var a=Object(m.a)(u.a.mark(function a(){var n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.getBalance(e);case 3:return n=a.sent,a.next=6,r.fromWei(n,t);case 6:n=a.sent,i(Number(n)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.warn(a.t0);case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(){return a.apply(this,arguments)}}()()},[e]),e?o:null},hr=function(e){var t=e.walletAddress,a=br(t);return r.a.createElement(fr,{name:"Ether",symbol:"ETHER",balance:a})},Er=(a(984),Object(p.b)(function(e){var t=e.tokens.tokens,a=void 0===t?[]:t,n=e.wallets.walletList;return{tokens:a,walletList:n,hasWallet:Boolean(n.length)}},{getTokens:Ft})(function(e){var t,a=e.tokens,n=e.getTokens,c=e.walletList,l=Boolean(c.length),s=pn(n)[1];return l&&(t=Re(c)),s?r.a.createElement("div",{className:"balance-cards error-text"},"Fetching data error - ",s):r.a.createElement("div",{className:"balance-cards ".concat(a.length>3?"--space-between":"")},a.map(function(e){var t=e.symbol,a=e.name,n=e.balance;return r.a.createElement(fr,{key:a,name:a,symbol:t,balance:n})}),l&&t&&r.a.createElement(hr,{walletAddress:t}))})),vr=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.post("compliance/external-contract/add",t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),gr=function(){var e=Object(m.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.put("compliance/external-contract/update/".concat(t),a);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),yr=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("compliance/external-contract/list/");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),kr=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.delete("compliance/external-contract/delete/".concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),wr=function(e){return{type:"GET_CONTRACTS",payload:{contracts:e}}},_r=function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_CONTACTS"}),e.next=4,he.get("/exchange/contacts");case 4:a=e.sent,t({type:"GET_CONTACTS_SUCCESS",payload:a.data}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},Or=(a(985),Object(p.b)(function(e){var t=e.tokens.userActivity;return{userActivity:void 0===t?[]:t}},{getUserActivity:Dt,getContractsAction:wr,getContacts:_r})(function(e){var t=e.getUserActivity,a=e.userActivity,c=e.getContractsAction,l=e.getContacts,s=a.slice(0,5),o=pn(t)[1],i=pn(yr,[]),u=Object(d.a)(i,1)[0];return Object(n.useEffect)(function(){c(u)},[u]),Object(n.useEffect)(function(){l()},[]),r.a.createElement("div",{className:"home-page","data-testid":"home-page"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"home-page__user-actions"},r.a.createElement(bn,null),r.a.createElement(Nn,null)),r.a.createElement("div",{className:"home-page__balance-cards"},r.a.createElement(Er,null)),r.a.createElement("div",{className:"home-page__activity"},r.a.createElement("h2",null,"Last Activity"),a.length?r.a.createElement(tr,{userActivity:s}):r.a.createElement("div",{className:"paper home-page__no-activity"},o?r.a.createElement("div",{className:"error-text"},o):r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"No Recent Activity."),r.a.createElement("p",null,"Keep track of your most recent transactions here when you sell, buy or transfer cash36 currencies"))))))})),xr=a(89),Nr=a.n(xr),Cr=(a(1046),Object(p.b)(function(e){var t=e.tokens.tokens;return{tokenSymbols:(void 0===t?[]:t).map(function(e){return e.symbol})}})(Object(n.memo)(function(e){var t=e.tokenSymbols,a=e.symbol,n=e.amount,c=e.handleChange;return r.a.createElement("div",{className:"choose-amount-form"},r.a.createElement(Jt.a,{name:"amount",id:"amount",label:"Choose Amount",type:"text",onChange:function(e){var t=e.target.value;(Object(xr.matches)(t,/^[1-9]{1}\d*[.|,]?(?:\d{1,2})?$/)||""===t)&&c(e)},placeholder:"0",autoComplete:"off",value:n,fullWidth:!0,InputProps:{disableUnderline:!0,className:"choose-amount-form__number-input"},InputLabelProps:{shrink:!0}}),r.a.createElement(Jt.a,{name:"symbol",id:"symbol",label:"Select Token",value:a,onChange:c,placeholder:"TOKEN36",select:!0,fullWidth:!0,InputProps:{disableUnderline:!0},SelectProps:{displayEmpty:!0,IconComponent:ut.a},InputLabelProps:{shrink:!0}},t.map(function(e){return r.a.createElement(ot.a,{key:e,value:e},e)})))}))),jr=function(e){var t=e.textline1,a=e.textline2,n=e.fontSize,c=void 0===n?"1.2rem":n;return r.a.createElement("div",{className:"buy__footer"},r.a.createElement("span",{style:{fontSize:c}},t,r.a.createElement("br",null),a))},Sr=a(502),Tr=a.n(Sr),Ar=a(292),Ir=Object(Ar.a)({root:{backgroundImage:"none",backgroundColor:"#fff",minWidth:0,width:"4rem",height:"4rem",borderRadius:"4px",boxShadow:"0 5px 6px 0 rgba(0,0,0,0.10)",display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0,opacity:"0.5",position:"absolute",top:"1.9rem",left:"2.7rem",zIndex:3}}),Lr=function(e){var t=e.onClick,a=Ir();return r.a.createElement(_e.a,{"data-testid":"back-button",className:a.root,variant:"contained",onClick:t},r.a.createElement(Tr.a,{"data-testid":"back-button__arrow"}))},Fr=(a(1047),function(e){var t=e.handleChange,a=e.amount,n=e.symbol,c=e.setStep,l=e.handleManualTransferClick;return r.a.createElement("div",{className:"buy-tokens","data-testid":"buy-tokens"},r.a.createElement(Lr,{onClick:function(){return c(0)}}),r.a.createElement("h2",null,"Buy Tokens"),r.a.createElement(Cr,{handleChange:t,amount:a,symbol:n}),r.a.createElement(xe,{onClick:l,text:"Buy tokens",disabled:!a}),r.a.createElement(jr,{textline1:"Buying cash36 Tokens is as simple as a bank transfer. First, choose amount and type of Token you wish to buy.",textline2:"After that you will receive the transfer instructions. Once we receive the amount, the tokens will be credited to your account."}))}),Dr=a(503),Pr=a.n(Dr),Rr=(a(1048),Object(p.b)(function(e){return{hasWallet:Boolean(e.wallets.walletList.length)}})(function(e){var t=e.setStep,a=e.hasWallet;return r.a.createElement("div",{className:"buy-step0","data-testid":"buy-step0"},r.a.createElement("h2",null,"Buy Tokens"),r.a.createElement("div",{className:"buy-step0__options"},r.a.createElement("div",{className:"buy-step0__option ".concat(a||"buy-step0__option--hidden"),onClick:function(){a&&t(1)}},r.a.createElement(nn.a,null),r.a.createElement("div",null,r.a.createElement("h3",null,"Send to your Wallet"),r.a.createElement("p",null,"The funds will be deposited to your e36 account's primary wallet."))),r.a.createElement("div",{className:"buy-step0__option",onClick:function(){return t(2.1)}},r.a.createElement(Pr.a,null),r.a.createElement("div",null,r.a.createElement("h3",null,"Send to Contact"),r.a.createElement("p",null,"The funds (tokens) will be sent to the address you specify.")))),r.a.createElement(jr,{textline1:"Select the target of your Token purchase. You can either send the Tokens to your wallet",textline2:"or you can send to a smart contract address you specify.",fontSize:"1.2rem"}))})),Ur=(a(1049),Object(p.b)(function(e){return{tokens:e.tokens.tokens,hasWallet:Boolean(e.wallets.walletList.length),mainWallet:Re(e.wallets.walletList)}})(function(e){var t=e.symbol,a=e.tokens,n=e.hasWallet,c=e.mainWallet,l=a.filter(function(e){return e.symbol===t})[0],s=br(c);return n?l?r.a.createElement("div",{className:"available-balance"},"Available Balance:"," ","".concat(qn(l.balance)," ").concat(t," ").concat(s?"(".concat(qn(s)," ether)"):"")):r.a.createElement("div",{className:"available-balance"},"Available Balance:","".concat(qn(0)," ").concat(t," ").concat(s?"(".concat(qn(s)," ether)"):"")):null})),Br=(a(1050),function(e){var t=e.setStep,a=e.amount,n=e.handleChange,c=e.symbol,l=void 0===c?"EUR36":c,s=e.target;return r.a.createElement("div",{className:"send-tokens"},r.a.createElement(Lr,{onClick:function(){return t(2.1)}}),r.a.createElement("div",{className:"send-tokens__header"},r.a.createElement("h4",null,"Sending to"),r.a.createElement(Et,{avatarUrl:s.avatarUrl,cssClass:"send-tokens__avatar",username:s.contactAddress}),s.contactName&&r.a.createElement("span",null,s.contactName),r.a.createElement(v,null,r.a.createElement(dn,{address:s.contactAddress})),r.a.createElement(v,{isMobile:!0},r.a.createElement(dn,{address:s.contactAddress,truncated:!0}))),r.a.createElement("hr",null),r.a.createElement(Cr,{amount:a,handleChange:n,symbol:l}),r.a.createElement(Ur,{symbol:l}),r.a.createElement(xe,{onClick:function(){return t(3)},text:"Next Step",disabled:!a}),r.a.createElement(jr,{textline1:"Select the amount and the currency you want to send the tokens in."}))}),Wr=a(212),Mr=a.n(Wr),Yr=a(138),Vr=a.n(Yr),qr=(a(1051),Object(p.b)(function(e){return{hasWallet:Boolean(e.wallets.walletList.length)}})(function(e){var t=e.handleManualTransferClick,a=e.handleAutoTransferClick,n=e.setStep,c=e.hasWallet;return r.a.createElement("div",{className:"payment-method","data-testid":"payment-method"},r.a.createElement(Lr,{onClick:function(){return n(0)}}),r.a.createElement(v,{isMobile:!0},r.a.createElement("h2",null,"Payment method")),r.a.createElement(v,null,r.a.createElement("h2",null,"Select your payment method")),r.a.createElement("div",{className:"payment-method__buttons"},c?r.a.createElement(Oe,{onClick:a},r.a.createElement("span",{className:"payment-method__buttons--heading"},"Tokens Transfer"),r.a.createElement("span",{className:"payment-method__buttons--icon"},r.a.createElement("img",{src:Vr.a,alt:""}))):r.a.createElement(lt.a,{title:"Token transfer not possible - you don't have a registered wallet available. Use manual bank transfer."},r.a.createElement("div",null,r.a.createElement(Oe,{disabled:!0},r.a.createElement("span",{className:"payment-method__buttons--heading"},"Tokens Transfer"),r.a.createElement("span",{className:"payment-method__buttons--icon"},r.a.createElement("img",{src:Vr.a,alt:""}))))),r.a.createElement("span",{className:"payment-method__separator"},"Or"),r.a.createElement(Oe,{onClick:t},r.a.createElement("span",{className:"payment-method__buttons--heading"},"Manual Bank Transfer"),r.a.createElement("span",{className:"payment-method__buttons--icon"},r.a.createElement("img",{src:Mr.a,alt:""})))),r.a.createElement(jr,{textline1:"Buying cash36 Tokens is as simple as a bank transfer. First, choose amount and type of Token you wish to buy.",textline2:"After that you will receive the transfer instructions. Once we receive the amount, the tokens will be credited to your account."}))})),zr=a(1257),Hr=a(73),Gr=a(504),Kr=a.n(Gr),Xr=a(505),Qr=a.n(Xr),Zr=(a(1058),function(e){var t=e.type,a=e.title,n="";if("success"===t)n=r.a.createElement(Zt.a,{"data-testid":"done-icon"});else if("progress"===t)n=r.a.createElement(Kr.a,{"data-testid":"time-icon"});else{if("error"!==t)return null;n=r.a.createElement(Qr.a,{"data-testid":"error-icon"})}return r.a.createElement("div",{className:"action-status"},r.a.createElement("div",{className:"action-status__icon-wrapper action-status__icon-wrapper--".concat(t)},n),a&&r.a.createElement("h2",null,a))}),Jr=(a(1059),function(e){var t=e.text,a=e.checked;return r.a.createElement("div",{className:"initiate-tokens-transfer-check-item"},a?r.a.createElement(Zr,{type:"success"}):r.a.createElement(Zr,{type:"error"}),r.a.createElement("div",null,t))}),$r=a(133),ec=(a(506),a(299),function(){var e=Object(n.useRef)(!0),t=Object(n.useContext)(ca).web3;Object(p.d)(function(e){return e.auth}).user;return Object(n.useEffect)(function(){return function(){e.current=!1}},[]),t}),tc=(a(1150),Object(p.b)(function(e){return{walletList:e.wallets.walletList,tokens:e.tokens.tokens}})(function(e){var t=e.amount,a=e.targetAddress,c=e.symbol,l=void 0===c?"EUR36":c,o=e.tokens,i=e.walletList,p=e.setStep,f=e.setTransactionError,b=e.setTransferData,h=ec(),E=Object(n.useContext)(ca).networkId,v=new h.eth.Contract(Hr.Cash36ComplianceContract.abi,Hr.Cash36ComplianceContract.networks[E].address),g=Object(n.useState)(!1),y=Object(d.a)(g,2),k=y[0],w=y[1],_=Object(n.useState)(!1),O=Object(d.a)(_,2),x=O[0],N=O[1],C=Object(n.useState)({}),j=Object(d.a)(C,2),S=j[0],T=j[1],A=Object(n.useState)({}),I=Object(d.a)(A,2),L=I[0],F=I[1],D=Re(i),P=o.find(function(e){return e.symbol===l}).balance,R=1,U=3,B=4,W=function(){var e=Object(m.a)(u.a.mark(function e(a){var n,r,c,l,s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,v.methods.checkUser(a).call();case 3:return n=e.sent,e.next=6,v.methods.hasAttribute(a,B).call();case 6:return r=e.sent,c=P>=parseInt(t,10),e.next=10,h.eth.getBalance(a);case 10:return l=e.sent,e.next=13,h.utils.fromWei(l,"wei");case 13:return s=e.sent,e.next=16,It();case 16:if(e.t0=e.sent.balanceWei,e.t0){e.next=19;break}e.t0=1e18;case 19:o=e.t0,T({checkUser:n,canSend:r,hasFunds:c,hasEther:s>o}),w(!1);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,v.methods.checkUser(t).call();case 3:return a=e.sent,e.next=6,v.methods.hasAttribute(t,R).call();case 6:return n=e.sent,e.next=9,v.methods.hasAttribute(t,U).call();case 9:r=e.sent,F({checkUser:a,canBuy:n,canReceive:r}),N(!1);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(u.a.mark(function e(){var n,r,c,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.find(function(e){return e.symbol===l}),r=n.tokenAddress,c=new h.eth.Contract(Hr.Token36Contract.abi,r),s=h.utils.toWei(zn(t)),console.log(D),e.prev=4,e.next=7,c.methods.transfer(a,s).send({from:D});case 7:b({amount:t,symbol:l}),p(6),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),f({title:"Transfer unsuccessful",message:"An error occured during the transfer of tokens"}),p(5);case 15:case"end":return e.stop()}},e,null,[[4,11]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){W(D),M(a)},[]),r.a.createElement("div",null,r.a.createElement("div",{className:"initiate-tokens-transfer"},r.a.createElement(Lr,{onClick:function(){return p(3)}}),r.a.createElement("h2",null,"Initiate Token Transfer"),r.a.createElement("div",{className:"initiate-tokens-transfer__kyc-verifications"},r.a.createElement("div",{className:"initiate-tokens-transfer__kyc-verification"},r.a.createElement("h4",null,k?"Verifying KYC for Sender...":"Sender"),k?r.a.createElement($t.a,{color:"primary",size:15}):r.a.createElement("div",null,r.a.createElement(Jr,{text:"KYC",checked:S.checkUser}),r.a.createElement(Jr,{text:"User can send",checked:S.canSend}),r.a.createElement(Jr,{text:"Has enough funds",checked:S.hasFunds}),r.a.createElement(Jr,{text:"Has ether",checked:S.hasEther}))),r.a.createElement("div",{className:"initiate-tokens-transfer__mid-section"},r.a.createElement("div",null,r.a.createElement("div",null,qn(t)),r.a.createElement(pr,{symbol:l}),r.a.createElement(zr.a,null))),r.a.createElement("div",{className:"initiate-tokens-transfer__kyc-verification"},r.a.createElement("h4",null,x?"Verifying KYC for Receiver...":"Receiver"),x?r.a.createElement($t.a,{color:"primary",size:15}):r.a.createElement("div",null,r.a.createElement(Jr,{text:"KYC",checked:L.checkUser}),r.a.createElement(Jr,{text:"Can buy",checked:L.canBuy}),r.a.createElement(Jr,{text:"Can receive",checked:L.canReceive})))),(!k||!x)&&r.a.createElement("div",{className:"initiate-tokens-transfer__buttons"},r.a.createElement(Oe,{onClick:Y},"Execute Order"),r.a.createElement(s.b,{to:"/"},r.a.createElement(Ot,null,"Cancel"))),r.a.createElement(jr,{textline1:"Please make sure to confirm the transaction from your wallet after clicking 'execute order'."})))})),ac=(a(1151),function(){return r.a.createElement("div",{className:"transaction-footer"},r.a.createElement(s.b,{to:"/history"},r.a.createElement(Oe,{fullWidth:!0},"Go to account history")),r.a.createElement(s.b,{to:"/"},"Back to homepage"))}),nc=(a(1152),function(e){var t=e.title,a=e.message;return r.a.createElement("div",{className:"buy__buy-status","data-testid":"buy-error"},r.a.createElement(Zr,{type:"error",title:t}),r.a.createElement("p",null,a),r.a.createElement(ac,null))}),rc=a(213),cc=a.n(rc),lc=(a(1153),Object(n.memo)(function(e){var t=e.contact,a=e.clickCallback,n=e.alt,c=t.avatarUrl,l=t.contactName,s=t.contactAddress;return r.a.createElement("div",{className:"transfer__contact ".concat(n?"transfer__contact--alt":""),onClick:function(){a(t)}},r.a.createElement(Et,{avatarUrl:c,alt:l,cssClass:"transfer__contact__avatar",username:s}),r.a.createElement("span",null,l),r.a.createElement(cc.a,{duration:500}))})),sc=(a(1154),function(e){var t=e.contacts,a=e.onClick,n=e.filter.trim().toLowerCase(),c=t.filter(function(e){return e.contactName.toLowerCase().includes(n)||e.contactAddress.toLowerCase().includes(n)});return c.length?r.a.createElement("div",{className:"transfer-address__transfer-suggestions","data-testid":"transfer-suggestions"},c.map(function(e){return r.a.createElement(lc,{contact:e,clickCallback:a,key:e.id})})):null}),oc=a(108),ic=a.n(oc),uc=(a(1155),function(e){var t=e.alt,a=e.onClick;return r.a.createElement("span",{className:"arrow-btn ".concat(t?"arrow-btn--alt":""),onClick:a,"data-testid":"arrow-button"},r.a.createElement(ic.a,{className:"arrow-btn__icon"}),r.a.createElement(cc.a,{duration:500}))});a(1156);function mc(){return window.innerWidth>767?5:3}function dc(e){return Math.ceil(e.length/mc())}var pc=function(e){var t=e.contactsList,a=e.clickCallback,c=Object(n.useState)(0),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(0),u=Object(d.a)(i,2),m=u[0],p=u[1],f=Object(n.useState)(mc()),b=Object(d.a)(f,2),h=b[0],E=b[1],g=Object(n.useState)(dc(t)),y=Object(d.a)(g,2),k=y[0],_=y[1];Object(n.useEffect)(function(){return window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}},[]);var O=function(){window.innerWidth>767&&5===h||window.innerWidth<767&&3===h?x(m):(p(0),E(mc()),_(dc(t)),x(0))},x=function(e){var a=t.slice(e*h,e*h+h).length,n=-100*(h%a||1===a?e-1:e);(h%a||1===a)&&(n-=a/h*100),t.length<=h&&(n=0),o(n),p(e)};return r.a.createElement("div",{className:"transfer__contacts-container"},r.a.createElement("h4",null,"Contacts"),r.a.createElement("div",{className:"transfer__contacts__slider"},r.a.createElement(v,null,t.length>h&&r.a.createElement(n.Fragment,null,r.a.createElement(uc,{onClick:function(){0!==m&&x(m-1)}}),r.a.createElement(uc,{alt:!0,onClick:function(){m!==k-1&&x(m+1)}}))),r.a.createElement("div",{className:"transfer__contacts__list-wrapper"},r.a.createElement("div",{className:"transfer__contacts-list ".concat(t.length<h?"transfer__contacts-list--center":""),style:{transform:"translateX(".concat(s,"%)")}},t.map(function(e){return r.a.createElement(lc,{contact:e,clickCallback:a,alt:!0,key:e.id})})))),t.length>h&&r.a.createElement("ul",{className:"transfer__contacts-container__pager"},Object(w.a)(Array(k).keys()).map(function(e,t){return r.a.createElement("li",{className:m===t?"active":"",onClick:function(){x(t)},key:t})})))},fc=(a(1157),function(e){var t=e.contact,a=t.contactName,n=t.avatarUrl,c=t.contactAddress;return r.a.createElement("div",{className:"transfer__selected-contact"},r.a.createElement(Et,{avatarUrl:n,cssClass:"transfer__selected-contact__avatar",username:c}),r.a.createElement("span",null,a))}),bc=(a(1158),function(e){var t=e.submitCallback,a=e.contactsList,c=e.setStep,l=e.target,s=e.quickActions,i=Object(n.useState)(l?l.contactAddress:""),p=Object(d.a)(i,2),f=p[0],b=p[1],h=Object(n.useState)(!1),E=Object(d.a)(h,2),v=E[0],g=E[1],y=Object(n.useState)(l),k=Object(d.a)(y,2),w=k[0],_=k[1],O=Object(n.useState)(!0),x=Object(d.a)(O,2),N=x[0],C=x[1],j=Object(n.useContext)(ca).utils,S=Object(o.g)(),T=function(e){g(!1),b(e.contactAddress),_(e)},A=function(){var e=Object(m.a)(u.a.mark(function e(){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe(f);case 3:if(e.sent){e.next=7;break}return C(!1),e.abrupt("return");case 7:n=a.filter(function(e){return e.contactAddress===f})[0]||{contactAddress:f},t(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){C(!0)},[f]),r.a.createElement("div",{className:"transfer-address","data-testid":"buy__choose-address"},s?r.a.createElement(Lr,{onClick:function(){S.goBack()}}):r.a.createElement(Lr,{onClick:function(){return c(0)}}),r.a.createElement("h2",null,"Send tokens to"),r.a.createElement(st.a,{onClickAway:function(){v&&g(!1)}},r.a.createElement("div",{className:"transfer-address__search-container"},r.a.createElement("div",{className:"transfer-address__input-wrapper"},w&&r.a.createElement(fc,{contact:w}),r.a.createElement("input",{onChange:function(e){var t=e.target.value,n=a.filter(function(e){return e.contactAddress===t.trim()})[0]||null;b(t),_(n),g(!(!t.trim()||w))},placeholder:"User's wallet address",className:"".concat(w?"selected-contact":""),name:"address",value:f,autoComplete:"off",onFocus:function(){var e=f.trim().toLowerCase(),t=a.filter(function(t){return t.contactName.toLowerCase().includes(e)||t.contactAddress.toLowerCase().includes(e)});g(!(!t.length||w||!f))}}),r.a.createElement("span",null)),!N&&r.a.createElement("p",{className:"error-text"},"This wallet address is not registered on this platform, please tell recepient to register his identity and to add his wallet"),!!a&&v&&r.a.createElement(sc,{contacts:a,onClick:T,filter:f}))),a&&!!a.length&&r.a.createElement(pc,{clickCallback:T,contactsList:a}),r.a.createElement(xe,{text:"Next Step",onClick:A,disabled:!j.isAddress(f)||!N}),r.a.createElement(jr,{textline1:"Sending cash36 Tokens is as simple as a bank transfer. First, add address you wish to send tokens to.",textline2:"After that you will select the amount and the type of Token you wish to send."}))}),hc=(a(1159),function(e){var t=e.amount,a=e.symbol;return r.a.createElement("div",{className:"amount-card amount-card--".concat(a)},r.a.createElement(pr,{symbol:a}),r.a.createElement("div",null,"-",qn(t),r.a.createElement("span",{className:"amount-card__symbol"},a)))}),Ec=(a(1160),function(e){var t=e.amount,a=e.symbol;return r.a.createElement("div",{className:"transfer__transfer-success"},r.a.createElement(Zr,{type:"success",title:"Success!"}),r.a.createElement(hc,{amount:t,symbol:a}),r.a.createElement("p",null,"You've succesfuly transfered ","".concat(t," ").concat(a)),r.a.createElement(ac,null))}),vc=(a(1161),Object(p.b)(function(e){return{contactsList:e.contacts.contactsList}},{getTokens:Ft,getContacts:_r})(function(e){var t=e.getTokens,a=e.location,c=e.contactsList,l=e.getContacts,s=Object(n.useState)(0),o=Object(d.a)(s,2),i=o[0],p=o[1],f=Object(n.useState)(""),b=Object(d.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)("EUR36"),g=Object(d.a)(v,2),y=g[0],k=g[1],w=Object(n.useState)(null),_=Object(d.a)(w,2),O=_[0],x=_[1],N=Object(n.useState)(!1),C=Object(d.a)(N,2),j=C[0],S=C[1],T=Object(n.useState)(null),A=Object(d.a)(T,2),I=A[0],L=A[1],F=Object(n.useState)({amount:"",symbol:""}),D=Object(d.a)(F,2),P=D[0],R=D[1],U=Object(n.useRef)(!1),B=Object(n.useState)({title:"Buy unsuccessful",message:"User not enabled or verified"}),W=Object(d.a)(B,2),M=W[0],Y=W[1],V=pn(t)[1],q=pn(l)[1];a.state&&(a.state.quickActions&&(p(2.1),S(!0)),a.state.quickTransfer&&(x(a.state.quickTransfer),p(2.2)),a.state=null);var z=function(e){var t=e.target,a=t.name,n=t.value;"amount"===a?E(n):"symbol"===a&&k(n)},H=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.current){e.next=2;break}return e.abrupt("return");case 2:if(U.current=!0,t={amount:zn(h),symbol:y},O&&(t.targetAddress=O.contactAddress,t.targetAddressType="WALLET"),e.prev=5,!O){e.next=12;break}return e.next=9,he.post("/exchange/buy/for",t);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,he.post("/exchange/buy",t);case 14:a=e.sent;case 15:L(a.data),p(4.1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(5),e.t0.response&&e.t0.response.data&&e.t0.response.data.message&&Y({title:"Buy unsuccessful",message:e.t0.response.data.message}),console.log(e.t0.response.data),p(5);case 24:case"end":return e.stop()}},e,null,[[5,19]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){0===i&&x(null)},[i]),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"buy paper"},r.a.createElement("div",{className:"buy__content"},0===i&&r.a.createElement(Rr,{setStep:p}),1===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Fr,{handleChange:z,amount:h,symbol:y,setStep:p,handleManualTransferClick:H}),(V||q)&&r.a.createElement("div",{className:"error-text"},V||q)),2.1===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bc,{contactsList:c,submitCallback:function(e){x(e),p(2.2)},setStep:p,target:O,quickActions:j}),(V||q)&&r.a.createElement("div",{className:"error-text"},V||q)),2.2===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Br,{symbol:y,handleChange:z,amount:h,target:O,setStep:p}),(V||q)&&r.a.createElement("div",{className:"error-text"},V||q)),3===i&&r.a.createElement(qr,{setStep:p,handleManualTransferClick:H,handleAutoTransferClick:function(){p(4.2)}}),4.1===i&&r.a.createElement($n,{info:I,title:"Trigger your payment"},r.a.createElement("div",{className:"payment-info__message--credit"},r.a.createElement("p",null,"Tokens will be credited to your account as soon as the transfer is complete. ",r.a.createElement("br",null)," You can always check your order status in your account history.")),r.a.createElement(ac,null)),4.2===i&&r.a.createElement(tc,{setStep:p,setTransactionError:Y,amount:h,symbol:y,targetAddress:O.contactAddress,setTransferData:R}),5===i&&r.a.createElement(nc,{title:M.title,message:M.message}),6===i&&r.a.createElement(Ec,{amount:zn(P.amount),symbol:P.symbol})),r.a.createElement("div",{className:"buy__footer"},i>4&&i<4.2&&r.a.createElement("span",{style:{fontSize:"1.6rem"}},"Please make sure your payment will be triggered from your registered bank account",I.userIban?": IBAN ".concat(I.userIban):"."))))})),gc=(a(1162),function(){return r.a.createElement("div",{className:"unavailable-balance"},"You don't have enough Balance")}),yc=function(e){var t=e.exchangeFee,a=e.amount,c=e.symbol,l=e.isSell,s=zn(a),o=t/100,i=Object(n.useCallback)(function(){return l?"Amount that will be sent to your account":"You Will Receive"},[]);return t>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"exchange-fee"},"Exchange Fee (",t,"%)"," ",r.a.createElement("span",null,a?"".concat(-(s*o).toFixed(2)):0," ",Hn(c))),r.a.createElement("p",null,i(),r.a.createElement("span",null,a?(s*(1-o)).toFixed(2):0," ",Hn(c)))):0===t?r.a.createElement("p",null,i(),r.a.createElement("span",null,a?(a*(1-o)).toFixed(2):0)):!1===t?r.a.createElement("p",{className:"no-exchange-fee"},"Couldn't determine exchange fee"):null},kc=(a(1163),function(e){var t=e.handleChange,a=e.amount,n=e.symbol,c=e.onClick,l=e.token,s=e.exchangeFee,o=e.exchangeFeeError,i=e.tokensError,u=e.minFundsError,m=e.etherBalance;return r.a.createElement("div",{className:"sell__sell-tokens"},r.a.createElement("h2",null,"Sell Tokens"),r.a.createElement(Cr,{handleChange:t,symbol:n,amount:a}),a&&l&&l.balance<zn(a)&&r.a.createElement(gc,null),r.a.createElement(Ur,{symbol:n,etherBalance:m}),s&&r.a.createElement(yc,{amount:a,exchangeFee:s,symbol:n,isSell:!0}),o&&r.a.createElement("div",{className:"error-text"},"Exchange Fee error - ",o),r.a.createElement(xe,{text:"Next Step",onClick:c,disabled:!a.length||!l||zn(a)>l.balance||!1===s}),i&&r.a.createElement("div",{className:"error-text"},i),u&&r.a.createElement("div",{className:"error-text"},u),r.a.createElement("div",{className:"sell__footer"},r.a.createElement("span",{style:{fontSize:"1.2rem"}},"If your bank account is using a different currency, the exchange rates of"," ",r.a.createElement("a",{href:"https://www.hbl.ch/de/private/zahlen/reisen/waehrungsrechner/",target:"_blank",rel:"noopener noreferrer"},"Hypi Lenzburg")," ","apply.")))}),wc=function(){return r.a.createElement("div",{className:"sell__sell-status"},r.a.createElement(Zr,{type:"progress",title:"Awaiting Confirmation"}),r.a.createElement("p",null,"The transaction is initiated -  balances will be updated as soon as the execution is confirmed"),r.a.createElement(ac,null))},_c=(a(1164),function(e){var t=e.amount,a=e.symbol;return r.a.createElement("div",{className:"sell__sell-success"},r.a.createElement(Zr,{type:"success",title:"Success!"}),r.a.createElement(hc,{amount:t,symbol:a}),r.a.createElement("p",null,"You've succesfuly sold ","".concat(t," ").concat(a)),r.a.createElement(ac,null))}),Oc=function(e){var t=e.message;return r.a.createElement("div",{className:"sell__sell-status"},r.a.createElement(Zr,{type:"error",title:"Selling unsuccessful"}),r.a.createElement("p",null,t),r.a.createElement(ac,null))},xc=(a(1165),function(e){var t=e.mainWallet,a=e.minFunds,c=e.tokens,l=Object(n.useState)(""),s=Object(d.a)(l,2),o=s[0],i=s[1],p=a.balanceCHF36,f=a.balanceEUR36,b=Object(n.useMemo)(function(){return{EUR36:f,CHF36:p}},[p,f]),h=Object(n.useState)("CHF36"),E=Object(d.a)(h,2),v=E[0],g=E[1],y=c.find(function(e){return e.symbol===v}),k=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lt(t,v);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"prefund-wallet"},r.a.createElement("div",{className:"prefund-wallet__content"},r.a.createElement("h2",null,"Sorry, your wallet is out of gas"),r.a.createElement("p",null,"Your main wallet is out of ether. We can fund your wallet with ether for you, so you can make blockchain transactions. Choose which tokens you want to pay with."),r.a.createElement("div",{className:"prefund-wallet__currency"},c.map(function(e){var t=e.symbol;return r.a.createElement("div",{key:t,className:"prefund-wallet__currency-field paper ".concat(v===t?"prefund-wallet__currency-field--selected":null),onClick:function(){g(t)}},b[t]," ",r.a.createElement("span",null,t),r.a.createElement(pr,{symbol:t}))})),r.a.createElement(Oe,{variant:"contained",onClick:k,disabled:y.balance<b[y.symbol]},"Fund my Wallet"),o&&r.a.createElement("div",{className:"error-text"},o),r.a.createElement(Ur,{symbol:y.symbol}),r.a.createElement("div",{className:"sell__footer"},r.a.createElement("span",{style:{fontSize:"1.2rem"}},"The amount will be deducted from your element36 account Tokens.")))))}),Nc=(a(1166),Object(p.b)(function(e){var t=e.tokens.tokens,a=void 0===t?[]:t,n=e.auth.user,r=e.wallets;return{tokens:a,user:n,hasWallet:Boolean(r.walletList.length),mainWallet:Re(r.walletList)}},{getTokens:Ft})(function(e){var t=e.tokens,a=e.getTokens,c=e.hasWallet,l=e.mainWallet,s=Object(n.useState)(0),i=Object(d.a)(s,2),p=i[0],f=i[1],b=Object(n.useState)({amount:"",symbol:"EUR36"}),h=Object(d.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)(null),y=Object(d.a)(g,2),k=y[0],w=y[1],_=Object(n.useRef)(!0),O=ec(),x=pn(a)[1],N=pn(Pt,null),C=Object(d.a)(N,2),j=C[0],S=C[1],T=pn(It),A=Object(d.a)(T,2),I=A[0],L=A[1],F=br(l,"wei"),D=br(l);if(Object(n.useEffect)(function(){return function(){_.current=!1}},[]),!c)return r.a.createElement(o.a,{to:"/"});var P=function(e){var t=e.target,a=t.name,n=t.value;v(Object(U.a)({},E,Object(tt.a)({},a,n)))},R=function(){F<I.balanceWei&&f(4),f(1),W()},B=function(e){_.current&&(w(e.message?e.message:"Selling token was unsuccessful"),f(3))},W=function(){var e=Object(m.a)(u.a.mark(function e(){var a,n,r,c,s,o,i,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.symbol,n=E.amount,r=t.filter(function(e){return e.symbol===a})[0].tokenAddress,c=new O.eth.Contract(Hr.Token36Contract.abi,r),s=O.utils.toWei(zn(n),"ether"),e.prev=4,e.next=7,c.methods.burn(s).estimateGas({from:l});case 7:return o=e.sent,e.next=10,c.methods.burn(s).encodeABI();case 10:return i=e.sent,e.t0=l,e.t1=r,e.t2=o+Math.round(.1*o),e.next=16,O.eth.getTransactionCount(l,"pending");case 16:return e.t3=e.sent,e.t4=i,m={from:e.t0,to:e.t1,gas:e.t2,nonce:e.t3,data:e.t4},e.abrupt("return",O.eth.sendTransaction(m).on("receipt",function(){_.current&&f(2)}).on("error",function(e){B(e)}));case 22:e.prev=22,e.t5=e.catch(4),B(e.t5);case 25:case"end":return e.stop()}},e,null,[[4,22]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"sell paper"},r.a.createElement("div",{className:"sell__content"},function(){var e=E.amount,a=E.symbol,n=t.filter(function(e){return e.symbol===a})[0];switch(p){case 1:return r.a.createElement(wc,null);case 2:return r.a.createElement(_c,{amount:zn(e),symbol:a});case 3:return r.a.createElement(Oc,{message:k});case 4:return r.a.createElement(xc,{mainWallet:l,minFunds:I,tokens:t});default:return r.a.createElement(kc,{amount:e,symbol:a,handleChange:P,onClick:R,token:n,exchangeFeeError:S,exchangeFee:j,tokensError:x,minFundsError:L,etherBalance:D})}}())))})),Cc=(a(1167),function(e){var t=e.button,a=e.children,c=Object(n.useState)(!1),l=Object(d.a)(c,2),s=l[0],o=l[1],i=function(){return o(!1)};return r.a.createElement("div",{className:"button-dialog-wrapper"},r.a.createElement("span",{onClick:function(){return o(!0)}},t),r.a.createElement(v,{isMobile:!0},r.a.createElement("div",{className:"button-dialog ".concat(s?"--open":"")},r.a.createElement(gt.a,{className:"button-dialog__close",onClick:i}),a)),r.a.createElement(v,null,r.a.createElement(yt.a,{open:s,onClose:i,maxWidth:!1,className:"button-dialog"},r.a.createElement(gt.a,{className:"button-dialog__close",onClick:i}),Object(n.cloneElement)(a,{closeDialog:i}))))}),jc=(a(1168),function(e){var t=e.text,a=e.onClick,n=e.send,c=void 0!==n&&n;return r.a.createElement(Kt,{className:"add-button",onClick:a},r.a.createElement("span",{className:"add-button__inner"},r.a.createElement("span",null,c?r.a.createElement(ye.a,null):r.a.createElement(wn.a,null)),r.a.createElement("span",null,t)))}),Sc=Object(Ar.a)({root:{fontSize:"1.6rem","& input":{"&::placeholder":{color:"#01152C",opacity:"0.5"}}}}),Tc=function(e){var t=e.name,a=e.label,n=e.onChange,c=e.placeholder,l=e.value,s=e.type,o=void 0===s?"text":s,i=e.error,u=e.disabled,m=e.isTouched,d=e.multiline,p=e.rows,f=void 0===p?3:p,b=e.onBlur,h=void 0===b?function(){}:b,E=Sc();return r.a.createElement("div",{className:"element-form__input-wrapper ".concat(t)},r.a.createElement(Jt.a,{id:"text-field-".concat(t),name:t,label:a,type:o,onChange:n,onBlur:h,placeholder:c,autoComplete:"off",value:l,fullWidth:!0,rows:f,multiline:d,className:E.root,disabled:u,InputLabelProps:{shrink:!0}}),m&&i&&r.a.createElement("p",{className:"form-error"},i))},Ac=a(1255),Ic=a(1249),Lc=a(9),Fc=function(e){var t=e.name,a=e.label,n=e.value,c=e.onChange,l=e.list,s=e.error,o=e.onBlur,i=e.isTouched,u=e.placeholder,m=e.relatedField,d=e.countryList,p=e.classes,f=e.formValues,b=e.setFieldValue,h=e.isNative;return r.a.createElement("div",{className:"element-form__input-wrapper element-form__input-wrapper--select  ".concat(t)},r.a.createElement(Ac.a,{id:"select-".concat(t,"-label"),shrink:!0},a),r.a.createElement(Ic.a,{id:"text-field-".concat(t),name:t,value:n,onChange:function(e){c(e),m&&!f[m]&&b(m,e.target.value,!0)},onBlur:o,fullWidth:!0,className:p.root,disableUnderline:!0,native:h,displayEmpty:!0,autoComplete:"off",IconComponent:ut.a,inputProps:{style:{fontSize:"1.6rem"}}},r.a.createElement(ot.a,{value:"",disabled:!0},r.a.createElement("div",{className:p.placeholder},r.a.createElement("span",{className:p.placeholderText},u))),l.map(function(e){return r.a.createElement(ot.a,{key:e.code||e.value,value:e.code||e.value},d&&r.a.createElement(Jn.a,{code:e.code,svg:!0,styleProps:{width:"2rem",height:"1.3rem",backgroundSize:"cover",marginRight:".5rem"}})," ",e.name||e.label)})),i&&s&&r.a.createElement("p",{className:"form-error"},s))};Fc.defaultProps={onBlur:function(){}};var Dc=Object(Lc.a)({root:{borderBottom:"1px solid #EDF0F4"},placeholder:{display:"flex",alignItems:"center"},placeholderIcon:{backgroundColor:"#1F8EEA",color:"#fff",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1.9rem",height:"1.3rem",fontSize:"1rem",lineHeight:"12px",marginRight:".5rem"},select:{marginBottom:"20px"},placeholderText:{color:"#01152C",opacity:"0.5"}})(Fc),Pc=a(1246),Rc=a(1251),Uc=(a(1169),function(e){var t=e.label,a=e.value,n=e.onChange,c=e.name,l=e.type;return r.a.createElement(Pc.a,{className:"checkbox-input",label:t,control:r.a.createElement(Rc.a,{checked:a,onChange:n,color:"primary",name:c,id:c,type:l})})}),Bc=a(1248),Wc=a(134),Mc=a.n(Wc),Yc=function(e){var t=e.name,a=e.label,c=e.error,l=e.setFieldValue,s=e.setFieldTouched,o=e.isTouched,i=e.maxDate,u=e.initialFocusedDate,m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],b=p[1],h=Object(n.useCallback)(function(e){b(e),s(t,!0,!0),l(t,e,!0)},[f]),E=Object(n.useCallback)(function(){s(t,!0,!0)},[s]);return r.a.createElement("div",{className:"element-form__input-wrapper ".concat(t)},r.a.createElement(Bc.b,{id:"date-picker-".concat(t),value:f,onChange:h,onClose:E,fullWidth:!0,variant:"inline",autoOk:!0,maxDate:i,initialFocusedDate:u,rightArrowIcon:r.a.createElement(Za.a,null),leftArrowIcon:r.a.createElement(ic.a,null),label:a,error:!!c[t],FormHelperTextProps:{disabled:!0},format:"DD.MM.YYYY",InputProps:{placeholder:"DD.MM.YYYY"},InputLabelProps:{shrink:!0},keyboardIcon:r.a.createElement(Mc.a,null)}),o&&c[t]&&r.a.createElement("p",{className:"form-error"},c[t]))},Vc=a(521),qc=Object(Ar.a)({root:{fontSize:"1em","& input":{fontSize:"1em","&::placeholder":{color:"#01152C",opacity:"0.5"}}}});var zc=function(e){var t=e.name,a=e.label,n=e.placeholder,c=e.error,l=e.disabled,s=e.setFieldTouched,o=e.setFieldValue,i=e.isTouched,u=e.list,m=qc();return r.a.createElement("div",{className:"element-form__input-wrapper ".concat(t," autocomplete-wrapper")},r.a.createElement(Vc.a,{onChange:function(e){s(t,!0,!0),o(t,e.code,!0)},itemToString:function(e){return e?e.name:""}},function(e){var t=e.getInputProps,c=e.getItemProps,s=e.getMenuProps,o=e.isOpen,i=e.highlightedIndex,d=e.inputValue,p=t();return r.a.createElement("div",null,r.a.createElement(Jt.a,Object.assign({label:a,placeholder:n,autoComplete:"off",value:d,fullWidth:!0,className:m.root,disabled:l,InputLabelProps:{shrink:!0}},p)),r.a.createElement("div",Object.assign({},s(),{className:"paper no-radius autocomplete-suggestions"}),o&&function(e,t){var a=e.trim().toLowerCase(),n=a.length;return 0===n?[]:t.filter(function(e){return e.name.slice(0,n).toLowerCase()===a})}(d,u).map(function(e,t){return function(e){var t=e.item,a=e.itemProps,n=e.index,c=e.highlightedIndex===n;return r.a.createElement(ot.a,Object.assign({key:t.code},a,{selected:c}),r.a.createElement(Jn.a,{code:t.code,svg:!0,styleProps:{width:"2rem",height:"1.3rem",backgroundSize:"cover",marginRight:".5rem"}}),t.name)}({item:e,index:t,itemProps:c({item:e}),highlightedIndex:i})})))}),i&&c&&r.a.createElement("p",{className:"form-error"},c))},Hc=(a(1170),function(e){var t=e.name,a=e.checkboxes,n=e.formProps,c=e.isTouched,l=e.error;return r.a.createElement("div",{className:"element-form__input-wrapper --checkboxes"},r.a.createElement("div",null,"Accepted token(s)"),r.a.createElement("div",null,r.a.createElement(Ee.a,{validateOnChange:!1,name:t,render:function(e){return a.map(function(t){return r.a.createElement(Pc.a,{key:t.id,className:"checkbox-input",label:t.id,control:r.a.createElement(Rc.a,{checked:n.values.acceptedTokens.includes(t.id),onChange:function(a){if(a.target.checked)e.push(t.id);else{var r=n.values.acceptedTokens.indexOf(t.id);e.remove(r)}},color:"primary",name:t.name,id:"checkbox-".concat(t.name),type:"checkbox"})})})}})),c&&l&&r.a.createElement("p",{className:"form-error"},l))}),Gc=function(e){var t=e.formProps,a=t.handleChange,n=t.handleBlur,c=t.values,l=t.touched,s=t.errors,o=t.setFieldValue,i=t.setFieldTouched,u=e.formField,m=e.disabled,d=e.countryList;switch(u.type){case"date":return r.a.createElement(Yc,{value:c[u.name],name:u.name,label:u.label,maxDate:u.maxDate,minDate:u.minDate,initialFocusedDate:u.initialFocusedDate,setFieldValue:o,setFieldTouched:i,placeholder:u.placeholder,isTouched:l[u.name],error:s,disabled:m});case"select":return r.a.createElement(Dc,{value:c[u.name],name:u.name,label:u.label,onChange:a,onBlur:n,placeholder:u.placeholder,isTouched:l[u.name],error:s[u.name],list:u.list,disabled:m,formValues:c,relatedField:u.relatedField,setFieldValue:o,countryList:d});case"autocomplete":return r.a.createElement(zc,{name:u.name,label:u.label,placeholder:u.placeholder,setFieldValue:o,setFieldTouched:i,isTouched:l[u.name],error:s[u.name],list:u.list,disabled:m});case"checkbox":return r.a.createElement(Uc,{value:c[u.name],name:u.name,label:u.label,onChange:a,onBlur:n,type:u.type,isTouched:l[u.name],error:s[u.name],disabled:m});case"checkboxArray":return r.a.createElement(Hc,{checkboxes:u.checkboxes,name:u.name,formProps:e.formProps,isTouched:l[u.name],error:s[u.name]});default:return r.a.createElement(Tc,{value:c[u.name],name:u.name,label:u.label,onChange:a,onBlur:n,type:u.type,placeholder:u.placeholder,multiline:"textarea"===u.type,isTouched:l[u.name],error:s[u.name],disabled:m})}},Kc=(a(1171),function(e){var t=e.title,a=e.subtitle;return r.a.createElement("div",{className:"form-header"},r.a.createElement("h2",null,t),a&&r.a.createElement("p",null,a))}),Xc=[{name:"name",type:"text",label:"Name",placeholder:"Contract Name"},{name:"contractAddress",type:"text",label:"Contract Address",placeholder:"0x67b5656d60a809915323bf2c40a8bef15a152e3e"},{type:"checkboxArray",name:"acceptedTokens",checkboxes:[{id:"CHF36",name:"CHF36"},{id:"EUR36",name:"EUR36"}]},{name:"contractSymbol",type:"text",label:"Contract symbol",placeholder:"Enter your contract symbol"},{name:"investmentLink",type:"text",label:"Link to your Dapp",placeholder:"Enter your dapp link"},{name:"website",type:"text",label:"Project website",placeholder:"Enter the project website"},{name:"access",type:"select",label:"Access",list:[{value:"PUBLIC",label:"Public"},{value:"PRIVATE",label:"Private"}],placeholder:"Determine the access scope of your project"},{name:"description",type:"textarea",label:"Description",placeholder:"Enter your contract description"},{name:"isWalletFree",type:"checkbox",label:"Is it wallet free?"}],Qc={name:"",contractAddress:"",description:"",acceptedTokens:["CHF36","EUR36"],contractSymbol:"",investmentLink:"",website:"",access:"PRIVATE",isWalletFree:!1},Zc=new ra.a,Jc={protocols:["https"],require_protocol:!0},$c=function(e){var t={};return e.name?e.name.length>40&&(t.name="Name must be 40 characters or less"):t.name="This field is required",e.description?e.description.length>240&&(t.description="Description must be 240 characters or less"):t.description="This field is required",e.acceptedTokens.length||(t.acceptedTokens="This field is required"),e.contractSymbol?e.contractSymbol.length>5&&(t.contractSymbol="Must be 5 characters or less"):t.contractSymbol="This field is required",e.access||(t.access="This field is required"),e.website?Nr.a.isURL(e.website,Jc)||(t.website="Must be a valid https URL"):t.website="This field is required",e.investmentLink?Nr.a.isURL(e.investmentLink,Jc)||(t.investmentLink="Must be a valid https URL"):t.investmentLink="This field is required",e.contractAddress?Zc.utils.isAddress(e.contractAddress)||(t.contractAddress="Must be a valid ethereum address"):t.contractAddress="This field is required",t},el=(a(462),function(e){var t=e.closeDialog,a=e.refetchContracts,c=Object(n.useState)(""),l=Object(d.a)(c,2),s=l[0],o=l[1],i=function(){var e=Object(m.a)(u.a.mark(function e(n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vr(n);case 3:t(),a(),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),o(e.t0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"paper contract-form"},r.a.createElement(Kc,{title:"Add Contract"}),r.a.createElement(ve,{validate:$c,submitCallback:i,initialValues:Qc,render:function(e,t){return r.a.createElement("form",{className:"",autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"tier1-form__field-group"},Xc.map(function(t){return r.a.createElement(Gc,{key:t.name,formField:t,formProps:e,disabled:t.disabled})})),r.a.createElement(Oe,{type:"submit",disabled:t},"Add Contract"),s&&r.a.createElement("div",{className:"error-text"},s))}}))}),tl=(a(1172),Object(p.b)(function(e){return{tokens:e.tokens.tokens}})(function(e){var t=e.name,a=e.description,n=e.contractAddress,c=e.contractSymbol,l=e.acceptedTokens,s=e.investmentLink,o=e.website,i=e.isWalletFree,u=e.tokens;console.log(u);return r.a.createElement("div",{className:"invest-details"},r.a.createElement("h2",null,t),r.a.createElement("p",null,a),r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",null,"Smart Contract address:"),r.a.createElement(dn,{address:n})),r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",null,"Contract token:"),r.a.createElement("div",null,c)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",null,"Accepted Token(s):"),l.map(function(e){return r.a.createElement("div",{key:e,className:"invest-details__accepted-token"},r.a.createElement("div",null,e," ",r.a.createElement(pr,{symbol:e})))})),r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",{style:{marginLeft:"4rem",display:"flex"}},"Balance(s):"),l.map(function(e){return r.a.createElement("div",{key:e,className:"invest-details__accepted-token"},r.a.createElement("div",{style:{fontWeight:"500",marginLeft:"4rem",width:"100%",display:"flex",justifyContent:"flex-end"}},qn(function(e,t){return e.find(function(e){return t===e.symbol}).balance}(u,e))))}))),r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",null,"Website:"),r.a.createElement("div",null,r.a.createElement("a",{href:o},o))),r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",null,"Investment Link:"),r.a.createElement("div",null,r.a.createElement("a",{href:s},s))),r.a.createElement("div",{className:"invest-details__info-field"},r.a.createElement("div",null,"Wallet free status:"),r.a.createElement("div",null,i?"This contract is wallet free":"This contract is not wallet free")))})),al=a(216),nl=a.n(al),rl=a(215),cl=a.n(rl),ll=a(1219),sl=(a(1173),function(e){var t=e.menuItems,a=void 0===t?[]:t,c=Object(n.useState)(!1),l=Object(d.a)(c,2),s=l[0],o=l[1];return r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(st.a,{onClickAway:function(){s&&o(!1)}},r.a.createElement("div",{className:"dropdown-menu__actions"},r.a.createElement(ll.a,{onClick:function(){s&&o(!1),o(!0)},className:"dropdown-menu__actions__icon"},r.a.createElement(cl.a,null)),r.a.createElement("div",{className:"paper dropdown-menu__actions__content ".concat(s?"--active":"")},a.map(function(e){var t=e.title,a=e.onClick;return r.a.createElement(nl.a,{key:t,onClick:a},t)})))))}),ol=[{name:"name",type:"text",label:"Name",placeholder:"Contract Name"},{name:"contractSymbol",type:"text",label:"Contract symbol",placeholder:"Enter your contract symbol"},{type:"checkboxArray",name:"acceptedTokens",checkboxes:[{id:"CHF36",name:"CHF36"},{id:"EUR36",name:"EUR36"}]},{name:"investmentLink",type:"text",label:"Link to your Dapp",placeholder:"Enter your dapp link"},{name:"website",type:"text",label:"Project website",placeholder:"Enter the project website"},{name:"access",type:"select",label:"Access",list:[{value:"PUBLIC",label:"Public"},{value:"PRIVATE",label:"Private"}],placeholder:"Determine the access scope of your project"},{name:"description",type:"textarea",label:"Description",placeholder:"Enter your contract description"},{name:"isWalletFree",type:"checkbox",label:"Is it wallet free?"}],il={protocols:["https"],require_protocol:!0},ul=function(e){var t={};return e.name?e.name.length>40&&(t.name="Name must be 40 characters or less"):t.name="This field is required",e.description?e.description.length>240&&(t.description="Description must be 240 characters or less"):t.description="This field is required",e.acceptedTokens.length||(t.acceptedTokens="This field is required"),e.contractSymbol?e.contractSymbol.length>5&&(t.contractSymbol="Must be 5 characters or less"):t.contractSymbol="This field is required",e.access||(t.access="This field is required"),e.website?Nr.a.isURL(e.website,il)||(t.website="Must be a valid https URL"):t.website="This field is required",e.investmentLink?Nr.a.isURL(e.investmentLink,il)||(t.investmentLink="Must be a valid https URL"):t.investmentLink="This field is required",t},ml=function(e){var t=e.closeDialog,a=e.refetchContracts,c=e.contractAddress,l=e.initialValues,s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],p=o[1],f=function(){var e=Object(m.a)(u.a.mark(function e(n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gr(c,n);case 3:t(),a(),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),p(e.t0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"paper contract-form"},r.a.createElement(Kc,{title:"Edit Contract"}),r.a.createElement(ve,{validate:ul,submitCallback:f,initialValues:l,render:function(e,t){return r.a.createElement("form",{className:"",autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"tier1-form__field-group"},ol.map(function(t){return r.a.createElement(Gc,{key:t.name,formField:t,formProps:e,disabled:t.disabled})})),r.a.createElement(Oe,{type:"submit",disabled:t},"Save changes"),i&&r.a.createElement("div",{className:"error-text"},i))}}))},dl=(a(1174),function(e){var t=e.acceptedTokens,a=e.contractAddress,c=e.name,l=e.isOwnedByUser,s=e.description,o=e.website,i=e.contractSymbol,d=e.isWalletFree,p=e.investmentLink,f=e.refetchContracts,b=e.access,h=Object(n.useRef)(),E=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kr(a);case 3:f(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"invest-card invest-card--".concat(t[0]," paper")},r.a.createElement("div",{className:"invest-card__heading"},r.a.createElement("div",{className:"invest-card__heading__top"},r.a.createElement("h3",null,c," ","PRIVATE"===b&&r.a.createElement("span",null,"private")),l&&r.a.createElement(Cc,{button:r.a.createElement("button",{ref:h},"Edit")},r.a.createElement(ml,{refetchContracts:f,contractAddress:a,initialValues:{name:c,acceptedTokens:t,contractSymbol:i,isWalletFree:d,description:s,website:o,investmentLink:p,access:b}})),l&&r.a.createElement(sl,{menuItems:[{title:"Edit",onClick:function(){h.current.click()}},{title:"Remove",onClick:E}]})),r.a.createElement("p",null,s),r.a.createElement("a",{target:"_blank",href:o,rel:"noopener noreferrer"},"Visit website")),r.a.createElement("div",{className:"invest-card__buttons"},r.a.createElement(Cc,{button:r.a.createElement(Ot,null,"More")},r.a.createElement(tl,e)),r.a.createElement("a",{target:"_blank",href:p,rel:"noopener noreferrer"},r.a.createElement(Oe,null," ",d&&r.a.createElement(tn.a,null),"Invest Now"))))}),pl=(a(1175),Object(p.b)(null,{getContractsAction:wr,getTokens:Ft})(function(e){var t=e.getContractsAction,a=e.getTokens,c=Object(n.useState)([]),l=Object(d.a)(c,2),o=l[0],i=l[1],u=pn(yr,[]),m=Object(d.a)(u,3),p=m[0],f=m[1],b=m[2];return Object(n.useEffect)(function(){t(p),i(p),a()},[p]),r.a.createElement("div",{className:"wrapper invest"},r.a.createElement("div",{className:"invest__header"},r.a.createElement(s.b,{to:"/use/send-to-contract"},r.a.createElement(jc,{text:"Use with Smart Contract",send:!0})),r.a.createElement(Cc,{button:r.a.createElement(jc,{text:"Add Contract"})},r.a.createElement(el,{refetchContracts:b}))),r.a.createElement("div",{className:"invest__cards"},o.map(function(e){return r.a.createElement(dl,Object.assign({refetchContracts:b,key:e.contractAddress},e,{isOwnedByUser:e.isOwnedByUser}))})),f&&r.a.createElement("div",{className:"error-text"},f))})),fl=a(217),bl=a(222),hl=a(218),El=a(223),vl=a(507),gl=a.n(vl),yl=Object(Ar.a)(function(e){return{root:{padding:"1.2rem 1.6rem",display:"inline-flex",flexWrap:"wrap"},picker:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.greys.lightGrey),marginRight:"2rem",paddingRight:"1rem"}},label:{display:"flex",alignItems:"center",fontSize:"1.4rem",color:"#01152C",opacity:"0.5"},labelText:{display:"flex",alignItems:"center",fontSize:"1.4rem",transform:"translateY(1px)"},icon:{fontSize:"1.6rem",marginRight:".5rem",color:"#01152C",opacity:"0.8"},input:{cursor:"default",width:"100%",fontSize:"1.6rem",backgroundColor:"transparent",zIndex:4,"&>input":{padding:0,cursor:"pointer","&::placeholder":{fontSize:"1.4rem"}}},pickerInputBox:{width:"11.5rem",display:"flex",alignItems:"center",position:"relative","&>svg":{color:"#CCD0D5",position:"absolute",right:0}}}}),kl=function(e){var t=e.startDate,a=e.endDate,n=e.handleStartDateChange,c=e.handleEndDateChange,l=e.fetchingFilters,s=yl();return r.a.createElement("div",{className:"".concat(s.root," paper")},r.a.createElement("div",{className:s.picker},r.a.createElement("div",{className:s.label},r.a.createElement(Mc.a,{className:s.icon}),r.a.createElement("span",null,"Start")),r.a.createElement("div",{className:s.pickerInputBox},r.a.createElement(Bc.a,{value:t,onChange:n,autoOk:!0,variant:"inline",format:"DD/MM/YYYY",disabled:l,rightArrowIcon:r.a.createElement(Za.a,null),leftArrowIcon:r.a.createElement(ic.a,null),InputProps:{disableUnderline:!0,placeholder:"DD/MM/YYYY",className:s.input},disableFuture:!0}),r.a.createElement(ut.a,{className:s.arrowIcon}))),r.a.createElement("div",{className:s.picker},r.a.createElement("div",{className:s.label},r.a.createElement(gl.a,{className:s.icon}),r.a.createElement("span",null,"End")),r.a.createElement("div",{className:s.pickerInputBox},r.a.createElement(Bc.a,{value:a,onChange:c,autoOk:!0,variant:"inline",format:"DD/MM/YYYY",disabled:l,rightArrowIcon:r.a.createElement(Za.a,null),leftArrowIcon:r.a.createElement(ic.a,null),InputProps:{disableUnderline:!0,placeholder:"DD/MM/YYYY",className:s.input},disableFuture:!0}),r.a.createElement(ut.a,{className:s.arrowIcon}))))},wl=a(508),_l=a.n(wl),Ol=(a(1176),function(e){var t=e.searchTerm,a=e.handleSearchChange,n=e.handleSearchTextSubmit,c=e.fetchingFilters;return r.a.createElement("form",{onSubmit:n,className:"history__search-box paper"},r.a.createElement("button",{type:"submit"},r.a.createElement(_l.a,null)),r.a.createElement("div",null,r.a.createElement(Jt.a,{type:"text",placeholder:"Search",value:t,onChange:a,disabled:c,InputProps:{disableUnderline:!0}})))}),xl=(a(1177),["All","Open","Completed","Processing","On Hold"]),Nl=function(e){var t=e.filterByStatus,a=e.handleFilterByStatusChange,n=e.fetchingFilters;return r.a.createElement("div",{className:"history__filter-by-status paper"},r.a.createElement("span",null,"Filter by status:"),r.a.createElement(Jt.a,{name:"filterByStatus",select:!0,value:t,onChange:a,fullWidth:!0,disabled:n,InputProps:{disableUnderline:!0,className:"history__filter-by__input",style:{fontSize:"1.6rem"}},SelectProps:{displayEmpty:!0,IconComponent:ut.a}},xl.map(function(e){return r.a.createElement(ot.a,{key:e,value:e},e)})))},Cl=a(509),jl=(a(1183),function(e){function t(){return Object($r.a)(this,t),Object(bl.a)(this,Object(hl.a)(t).apply(this,arguments))}return Object(El.a)(t,e),Object(fl.a)(t,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.handleMobileRangeDateChange,c=e.visible,l=e.toggleFiltersVisible;return r.a.createElement("div",{className:"date-range-mobile paper"},r.a.createElement(Mc.a,{onClick:l}),r.a.createElement(Cl.DateRange,{calendars:1,rangedCalendars:!0,onChange:n,onInit:n,maxDate:new Date,startDate:t,endDate:a,twoStepChange:!0,style:{transition:"all .2s",visibility:c?"visible":"hidden",opacity:c?"1":"0"}}))}}]),t}(n.Component)),Sl=a(510),Tl=a.n(Sl),Al=(a(1184),["All","Open","Completed","Processing","On Hold"]),Il=function(e){var t=e.filterByStatus,a=e.handleFilterByStatusChange,n=e.fetchingFilters;return r.a.createElement("div",{className:"history__filter-by-status-mobile paper"},r.a.createElement(Jt.a,{name:"filterByStatus",select:!0,value:t,onChange:a,fullWidth:!0,disabled:n,InputProps:{disableUnderline:!0,className:"history__filter-by__input",style:{fontSize:"1.2rem",margin:0}},SelectProps:{displayEmpty:!0,IconComponent:Tl.a}},Al.map(function(e){return r.a.createElement(ot.a,{key:e,value:e},e)})))},Ll=function(e){function t(){var e,a;Object($r.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(bl.a)(this,(e=Object(hl.a)(t)).call.apply(e,[this].concat(r)))).state={startDate:null,endDate:null,filterByStatus:"All",mobileFiltersVisible:!1,filters:{filterValue:"",from:"",to:"",status:""}},a.handleFilterByStatusChange=function(e){var t=a.state.filters.status;a.setState({filterByStatus:e.target.value},function(){a.setState({filters:Object(U.a)({},a.state.filters,{status:"All"===a.state.filterByStatus?"":"Open"===a.state.filterByStatus?"OPEN":"Completed"===a.state.filterByStatus?"COMPLETED":"Processing"===a.state.filterByStatus?"PROCESSING":"On Hold"===a.state.filterByStatus?"ON_HOLD":void 0})},function(){a.state.filters.status!==t&&a.props.getUserActivity(a.state.filters)})})},a.handleSearchChange=function(e){a.setState({filters:Object(U.a)({},a.state.filters,{filterValue:e.target.value})})},a.handleSearchTextSubmit=function(e){e.preventDefault(),a.props.getUserActivity(a.state.filters)},a.handleStartDateChange=function(e){a.props.fetchingFilters||a.setState({startDate:e},function(){a.setState({filters:Object(U.a)({},a.state.filters,{from:a.state.startDate.format("DD.MM.YYYY")})},function(){a.props.getUserActivity(a.state.filters)})})},a.handleEndDateChange=function(e){a.props.fetchingFilters||a.setState({endDate:e},function(){a.setState({filters:Object(U.a)({},a.state.filters,{to:a.state.endDate.format("DD.MM.YYYY")})},function(){a.props.getUserActivity(a.state.filters)})})},a.handleMobileRangeDateChange=function(e){e.startDate&&e.endDate&&a.setState({filters:Object(U.a)({},a.state.filters,{from:e.startDate.format("DD.MM.YYYY"),to:e.endDate.format("DD.MM.YYYY")})},function(){a.props.getUserActivity(a.state.filters),a.setState({mobileFiltersVisible:!1})})},a.toggleFiltersVisible=function(){a.props.fetchingFilters||a.setState(function(e){return{mobileFiltersVisible:!e.mobileFiltersVisible}})},a.resetFilters=function(){a.setState({startDate:null,endDate:null,filterByStatus:"All",filters:{filterValue:"",from:"",to:"",status:""}},function(){a.props.getUserActivity(a.state.filters)})},a}return Object(El.a)(t,e),Object(fl.a)(t,[{key:"render",value:function(){var e=this.state,t=e.startDate,a=e.endDate,n=e.filterByStatus,c=e.filters,l=e.mobileFiltersVisible,s=this.props,o=s.fetchingFilters,i=s.historyFiltered;return r.a.createElement("div",{className:"history__filters"},i&&!o&&r.a.createElement(Kt,{className:"history__filters__reset-btn",onClick:this.resetFilters},"Reset all filters"),r.a.createElement(v,{isDesktop:!0},r.a.createElement(kl,{startDate:t,endDate:a,handleStartDateChange:this.handleStartDateChange,handleEndDateChange:this.handleEndDateChange,fetchingFilters:o}),r.a.createElement(Ol,{searchTerm:c.filterValue,handleSearchChange:this.handleSearchChange,handleSearchTextSubmit:this.handleSearchTextSubmit,fetchingFilters:o}),r.a.createElement(Nl,{filterByStatus:n,handleFilterByStatusChange:this.handleFilterByStatusChange,fetchingFilters:o})),r.a.createElement(v,{isTablet:!0},r.a.createElement(jl,{startDate:t,endDate:a,handleMobileRangeDateChange:this.handleMobileRangeDateChange,visible:l,toggleFiltersVisible:this.toggleFiltersVisible}),r.a.createElement(Il,{filterByStatus:n,handleFilterByStatusChange:this.handleFilterByStatusChange,fetchingFilters:o,toggleFiltersVisible:this.toggleFiltersVisible}),r.a.createElement(Ol,{searchTerm:c.filterValue,handleSearchChange:this.handleSearchChange,handleSearchTextSubmit:this.handleSearchTextSubmit,fetchingFilters:o})))}}]),t}(n.Component),Fl=Object(p.b)(null,{getUserActivity:Dt})(Ll),Dl=(a(1185),Object(p.b)(function(e){var t=e.tokens;return{userActivity:t.userActivity,fetchingFilters:t.fetchingFilters,historyFiltered:t.historyFiltered}},{getUserActivity:Dt})(function(e){var t=e.userActivity,a=e.historyFiltered,n=e.fetchingFilters,c=e.getUserActivity,l=pn(c)[1];return l?r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"history error-text"},l)):r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"history"},r.a.createElement("div",{className:"history__content"},void 0===t?r.a.createElement("div",{className:"history__loader"},r.a.createElement($t.a,{color:"primary",size:75})):0===t.length&&!1===a?r.a.createElement("div",{className:"paper history__no-activity"},r.a.createElement("h3",null,"No Activity History"),r.a.createElement("p",null,"Keep track of your most recent transactions here when you sell, buy or transfer cash36 currencies.")):(console.log(t),0===t.length&&!0===a?r.a.createElement("div",null,r.a.createElement(Fl,{fetchingFilters:n,historyFiltered:a}),r.a.createElement("div",{className:"history__filter-loader-wrapper"},r.a.createElement("div",{className:"history__filter-no-results paper",style:n?{opacity:".3"}:null},r.a.createElement("p",null,"No results for this selected filter.")),n&&r.a.createElement("div",{className:"history__filter-loader"},r.a.createElement($t.a,{color:"primary",size:65})))):t.length>0?r.a.createElement("div",null,r.a.createElement(Fl,{fetchingFilters:n,historyFiltered:a}),r.a.createElement("div",{className:"history__filter-loader-wrapper"},r.a.createElement("div",{style:n?{opacity:".3"}:null},r.a.createElement(tr,{userActivity:t})),n&&r.a.createElement("div",{className:"history__filter-loader"},r.a.createElement($t.a,{color:"primary",size:75})))):void 0))))})),Pl=(a(1186),function(e){var t=e.changeHandler,a=e.value;return r.a.createElement("div",{className:"contacts__search-box"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search Contacts",value:a,onChange:t}))}),Rl=(a(1187),Object(n.memo)(function(e){var t=e.contact,a=e.removeCallback,c=Object(n.useState)(!1),l=Object(d.a)(c,2),o=l[0],i=l[1],p=Object(n.useState)(""),f=Object(d.a)(p,2),b=f[0],h=f[1],E=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),h(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"contact__list-item"},r.a.createElement(st.a,{onClickAway:function(){o&&i(!1)}},r.a.createElement("div",{className:"contacts__list-item__actions"},r.a.createElement(ll.a,{onClick:function(){i(!0)},className:"contacts__list-item__actions__icon"},r.a.createElement(cl.a,null)),r.a.createElement("div",{className:"paper contacts__list-item__actions__content ".concat(o?"--active":""),"data-testid":"contact__item__menu-button"},r.a.createElement(nl.a,{onClick:E},"Remove")))),r.a.createElement(Et,{avatarUrl:t.avatarUrl,cssClass:"contact__item__image-wrapper",alt:t.contactName,username:t.contactAddress}),r.a.createElement("div",{className:"contacts__item__info"},r.a.createElement("h4",null,t.contactName),r.a.createElement("span",null,t.contactAddress)),r.a.createElement(s.b,{to:{pathname:"/buy",state:{quickTransfer:t}}},r.a.createElement(Kt,{className:"contact__list-item__btn"},r.a.createElement("span",null,r.a.createElement("span",null,"Quick")," Transfer"))),r.a.createElement("div",{className:"error-text"},b))})),Ul=a(511),Bl=a.n(Ul),Wl=(a(1188),function(e){var t=e.label,a=e.placeholder,n=e.value,c=e.name,l=e.changeHandler;return r.a.createElement("div",{className:"contact-input-wrapper"},r.a.createElement("div",{className:"contact-input"},r.a.createElement("label",{htmlFor:"contact-input-".concat(c)},t),r.a.createElement("input",{id:"contact-input-".concat(c),name:c,value:n,onChange:l,placeholder:a}),r.a.createElement("span",null)))}),Ml=(a(1189),function(e){var t=e.onSubmit,a=e.contactName,n=e.walletAddress,c=e.changeHandler,l=e.submitting,s=e.isValid;return r.a.createElement("div",{className:"contact-form"},r.a.createElement("div",{className:"contact-form__header"},r.a.createElement("h2",null,"Add Contact")),r.a.createElement("form",{onSubmit:t},r.a.createElement(Wl,{changeHandler:c,value:a,label:"Full Name",placeholder:"Enter Contact Name",name:"contactName"}),r.a.createElement(Wl,{changeHandler:c,value:n,label:"Wallet Address",name:"walletAddress",placeholder:"Enter Wallet Address"}),r.a.createElement(Kt,{type:"submit",className:"contact-form__btn ".concat(l?"--submitting":""),disabled:s||l},l?r.a.createElement("div",null,r.a.createElement(we.a,{color:"secondary",size:20})):r.a.createElement("div",null,"Add to contacts ",r.a.createElement(Bl.a,{className:"contact-form__btn__icon"})))))}),Yl=(a(1190),function(e){var t=e.onClick,a=e.title,n=e.btnText,c=e.type;return r.a.createElement("div",{className:"contact-form__response"},r.a.createElement(Zr,{type:c,title:a}),r.a.createElement(Kt,{onClick:t},n))}),Vl=(a(1191),function(e){var t=e.isActive,a=e.onSubmit,c=e.closeForm,l=e.contactsList,s=Object(n.useState)({contactName:"",walletAddress:""}),o=Object(d.a)(s,2),i=o[0],p=o[1],f=Object(n.useState)(!1),b=Object(d.a)(f,2),h=b[0],E=b[1],g=Object(n.useState)({showResponse:!1,type:"success",msg:"",btnText:""}),y=Object(d.a)(g,2),k=y[0],w=y[1],_=Object(n.useContext)(ca).web3;Object(n.useEffect)(function(){t&&(p({contactName:"",walletAddress:""}),w({showResponse:!1,type:"success",msg:"",btnText:""}))},[t]);var O=function(e){var t=e.target,a=t.name,n=t.value;p(Object(U.a)({},i,Object(tt.a)({},a,n)))},x=function(){var e=Object(m.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=i.contactName,r=i.walletAddress,E(!0),e.prev=3,e.next=6,Pe(r.trim().toLowerCase());case 6:if(e.sent){e.next=10;break}return N(!0,"error","This wallet address is not registered on this platform, please tell recepient to register his identity at this platform and to add his wallet","Try again"),e.abrupt("return");case 10:return e.next=12,a({contactAddress:r.trim(),contactName:n.trim()});case 12:N(!0,"success","".concat(n," was added to your contacts!"),"Add another"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),N(!0,"error","Ooops! There was an error","Try again");case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,a,n){E(!1),w({showResponse:e,type:t,msg:a,btnText:n})},C=function(){p({contactName:"",walletAddress:""}),w(Object(U.a)({},k,{showResponse:!1}))},j=function(){var e=k.showResponse,a=k.btnText,n=k.type,s=k.msg,o=i.walletAddress,u=i.contactName,m=function(){var e=i.walletAddress.trim();return!i.contactName.trim()||!_.utils.isAddress(e)||!!l.filter(function(t){return e.toLowerCase()===t.contactAddress.toLowerCase()}).length}();return r.a.createElement("div",{className:"contact-form-container ".concat(t?"--active":"")},r.a.createElement(v,{isMobile:!0},r.a.createElement(Lr,{onClick:c})),r.a.createElement(v,null,r.a.createElement(gt.a,{className:"contact-form__close",onClick:c,"data-testid":"contact-form__close"})),e?r.a.createElement(Yl,{onClick:C,type:n,btnText:a,title:s}):r.a.createElement(Ml,{onSubmit:x,walletAddress:o,contactName:u,changeHandler:O,isValid:m,submitting:h}))};return r.a.createElement(n.Fragment,null,r.a.createElement(v,{isMobile:!0},j()),r.a.createElement(v,null,r.a.createElement(yt.a,{onClose:c,open:t,maxWidth:!1},j())))}),ql=(a(1192),Object(p.b)(function(e){return{contacts:e.contacts}},{getContacts:_r,removeContact:function(e){return function(){var t=Object(m.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.delete("/exchange/contacts/".concat(e));case 3:a({type:"REMOVE_CONTACTS",payload:e}),t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",$(t.t0));case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()},addContact:function(e){return function(){var t=Object(m.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.post("/exchange/contacts",e);case 3:return n=t.sent,a({type:"ADD_CONTACTS",payload:n.data}),t.abrupt("return",Promise.resolve());case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",$(t.t0));case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.contacts,a=e.getContacts,c=e.removeContact,l=e.addContact,s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),f=p[0],b=p[1],h=pn(a)[1];return h?r.a.createElement("div",{className:"wrapper contacts"},r.a.createElement("div",{className:"error-text"},"Fetching data error: ",h)):r.a.createElement("div",{className:"wrapper contacts","data-testid":"contacts"},r.a.createElement(Vl,{closeForm:function(){b(!1)},onSubmit:l,isActive:f,contactsList:t.contactsList}),r.a.createElement("div",{className:"contacts__actions"},r.a.createElement(Pl,{changeHandler:function(e){u(e.target.value)},value:i}),r.a.createElement(jc,{onClick:function(){b(!0)},text:"Add Contact"})),t.fetching?r.a.createElement("div",{className:"contacts__loader"},r.a.createElement($t.a,{color:"primary",size:75})):r.a.createElement("div",{className:"contacts__list"},function(){var e=t.contactsList;return e.length?e.filter(function(e){return e.contactName.toLowerCase().includes(i.toLowerCase().trim())||e.contactAddress.toLowerCase().includes(i.toLowerCase().trim())}).map(function(e){return r.a.createElement(Rl,{key:e.id,contact:e,removeCallback:c})}):null}()))})),zl=(a(1193),function(e){var t=e.textline1,a=e.textline2,n=e.fontSize,c=void 0===n?"1.2rem":n;return r.a.createElement("div",{className:"transfer__footer"},r.a.createElement("span",{style:{fontSize:c}},t,r.a.createElement("br",null),a))}),Hl=(a(1194),function(e){var t=e.setStep,a=e.address,c=e.setAddress,l=Object(n.useState)(""),s=Object(d.a)(l,2),o=s[0],i=s[1],p=Object(n.useContext)(ca),f=p.utils,b=p.eth,h=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.isAddress(t)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,b.getCode(t);case 5:if("0x"!==e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a);case 2:if(e.sent){e.next=6;break}return i("The target address is not a valid ethereum contract address."),e.abrupt("return");case 6:t(1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"invest-transfer-address"},r.a.createElement("h2",null,"Send tokens to"),r.a.createElement("div",{className:"invest-transfer-address__input-wrapper"},r.a.createElement("input",{onChange:function(e){var t=e.target.value;c(t)},placeholder:"Smart Contract address",name:"address",value:a,autoComplete:"off"}),r.a.createElement("span",null)),r.a.createElement(xe,{text:"Next Step",onClick:E,disabled:!a}),o&&r.a.createElement("p",{className:"error-text"},o),r.a.createElement(zl,{textline1:"Sending cash36 Tokens is as simple as a bank transfer. First, add address you wish to send tokens to.",textline2:"After that you will select the amount and the type of Token you wish to send."}))}),Gl=a(512),Kl=a.n(Gl),Xl=(a(1195),function(e){var t=e.targetAddress,a=e.setStep,n=e.amount,c=e.symbol,l=void 0===c?"EUR36":c,s=e.handleChange;return r.a.createElement("div",{className:"invest-transfer-tokens"},r.a.createElement(Lr,{onClick:function(){return a(0)}}),r.a.createElement("div",{className:"invest-transfer-tokens__header"},r.a.createElement("h4",null,"Sending to"),r.a.createElement("img",{src:Kl.a,alt:""}),r.a.createElement(v,null,r.a.createElement(dn,{address:t})),r.a.createElement(v,{isMobile:!0},r.a.createElement(dn,{address:t,truncated:!0}))),r.a.createElement("hr",null),r.a.createElement(Cr,{amount:n,handleChange:s,symbol:l}),r.a.createElement(Ur,{symbol:l,etherBalance:""}),r.a.createElement(xe,{onClick:function(){return a(2)},text:"Next Step",disabled:!1}),r.a.createElement(zl,{textline1:"Select the amount and the currency you want to send the tokens in."}))}),Ql=(a(1196),Object(p.b)(function(e){return{hasWallet:Boolean(e.wallets.walletList.length)}})(function(e){var t=e.handleTokensTransferClick,a=e.handleManualBankTransferClick,n=e.hasWallet,c=e.setStep;return r.a.createElement("div",{className:"invest-payment-method"},r.a.createElement(Lr,{onClick:function(){return c(1)}}),r.a.createElement(v,{isMobile:!0},r.a.createElement("h2",null,"Payment method")),r.a.createElement(v,null,r.a.createElement("h2",null,"Select your payment method")),r.a.createElement("div",{className:"invest-payment-method__buttons"},n?r.a.createElement(Oe,{onClick:t},r.a.createElement("span",{className:"payment-method__buttons--heading"},"Tokens Transfer"),r.a.createElement("span",{className:"invest-payment-method__buttons--icon"},r.a.createElement("img",{src:Vr.a,alt:""}))):r.a.createElement(lt.a,{title:"Token transfer not possible - you don't have a registered wallet available. Use manual bank transfer."},r.a.createElement("div",null,r.a.createElement(Oe,{disabled:!0},r.a.createElement("span",{className:"payment-method__buttons--heading"},"Tokens Transfer"),r.a.createElement("span",{className:"invest-payment-method__buttons--icon"},r.a.createElement("img",{src:Vr.a,alt:""}))))),r.a.createElement("span",{className:"invest-payment-method__separator"},"Or"),r.a.createElement(Oe,{onClick:a},r.a.createElement("span",{className:"payment-method__buttons--heading"},"Manual Bank Transfer"),r.a.createElement("span",{className:"invest-payment-method__buttons--icon"},r.a.createElement("img",{src:Mr.a,alt:""})))),r.a.createElement(zl,{textline1:"Buying cash36 Tokens is as simple as a bank transfer. First, choose amount and type of Token you wish to buy.",textline2:"After that you will receive the transfer instructions. Once we receive the amount, the tokens will be credited to your account."}))})),Zl=(a(1197),Object(p.b)(function(e){return{walletList:e.wallets.walletList,tokens:e.tokens.tokens}})(function(e){var t=e.amount,a=e.targetAddress,c=e.symbol,l=e.tokens,o=e.walletList,i=e.setStep,p=ec(),f=Object(n.useContext)(ca).networkId,b=new p.eth.Contract(Hr.Cash36ComplianceContract.abi,Hr.Cash36ComplianceContract.networks[f].address),h=Object(n.useState)(!1),E=Object(d.a)(h,2),v=E[0],g=E[1],y=Object(n.useState)({}),k=Object(d.a)(y,2),w=k[0],_=k[1],O=Re(o),x=l.find(function(e){return e.symbol===c}).balance,N=function(){var e=Object(m.a)(u.a.mark(function e(a){var n,r,c,l,s,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),n={EXST:0,ATTR_BUY:1,ATTR_SELL:2,ATTR_RECEIVE:3,ATTR_SEND:4,CPNY:5,BLACK:6,LOCK:7},e.next=4,b.methods.checkUser(a).call();case 4:return r=e.sent,e.next=7,b.methods.hasAttribute(a,n.ATTR_SEND).call();case 7:return c=e.sent,l=x>=parseInt(t,10),e.next=11,p.eth.getBalance(a);case 11:return s=e.sent,e.next=14,p.utils.fromWei(s,"wei");case 14:return o=e.sent,e.next=17,It();case 17:if(e.t0=e.sent.balanceWei,e.t0){e.next=20;break}e.t0=1e18;case 20:i=e.t0,_({checkUser:r,canSend:c,hasFunds:l,hasEther:o>i}),g(!1);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(u.a.mark(function e(){var n,r,s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.find(function(e){return e.symbol===c}),r=n.tokenAddress,s=new p.eth.Contract(Hr.Token36Contract.abi,r),o=p.utils.toWei(zn(t)),e.prev=3,e.next=6,s.methods.transfer(a,o).send({from:O});case 6:i(5),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i(6);case 12:case"end":return e.stop()}},e,null,[[3,9]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){N(O)},[]),r.a.createElement("div",null,r.a.createElement("div",{className:"tokens-transfer-option"},r.a.createElement(Lr,{onClick:function(){return i(2)}}),r.a.createElement("h2",null,"Initiate Token Transfer to a Contract"),r.a.createElement("div",{className:"tokens-transfer-option__kyc-verifications"},r.a.createElement("div",{className:"tokens-transfer-option__kyc-verification"},r.a.createElement("h4",null,v?"Verifying KYC for Sender...":"Sender"),v?r.a.createElement($t.a,{color:"primary",size:15}):r.a.createElement("div",null,r.a.createElement(Jr,{text:"KYC",checked:w.checkUser}),r.a.createElement(Jr,{text:"User can send",checked:w.canSend}),r.a.createElement(Jr,{text:"Has enough funds",checked:w.hasFunds}),r.a.createElement(Jr,{text:"Has ether",checked:w.hasEther}))),r.a.createElement("div",{className:"tokens-transfer-option__mid-section"},r.a.createElement("div",null,r.a.createElement("div",null,qn(t)),r.a.createElement(pr,{symbol:c}),r.a.createElement(zr.a,null))),r.a.createElement("div",{className:"tokens-transfer-option__kyc-verification"},r.a.createElement("h4",null,"Receiver"),r.a.createElement("div",{className:"tokens-transfer-option__smart-contract"},un(a)))),!v&&r.a.createElement("div",{className:"tokens-transfer-option__buttons"},r.a.createElement(Oe,{onClick:C},"Execute Order"),r.a.createElement(s.b,{to:"/"},r.a.createElement(Ot,null,"Cancel"))),r.a.createElement(zl,{textline1:"Please make sure to confirm the transaction from your wallet after clicking 'execute order'."})))})),Jl=(a(1198),Object(p.b)(null,{getTokens:Ft})(function(e){var t=e.getTokens,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(0),i=Object(d.a)(o,2),p=i[0],f=i[1],b=Object(n.useState)(""),h=Object(d.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)("EUR36"),y=Object(d.a)(g,2),k=y[0],w=y[1],_=Object(n.useState)(null),O=Object(d.a)(_,2),x=O[0],N=O[1],C=pn(t)[1],j=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={amount:parseInt(E),symbol:k,targetAddress:l,targetAddressType:"CONTRACT"},e.prev=1,e.next=4,he.post("/exchange/buy/for",t);case 4:a=e.sent,N(a.data),f(4),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f(6);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}(),S=[r.a.createElement(Hl,{key:0,setStep:f,address:l,setAddress:s}),r.a.createElement(Xl,{key:1,targetAddress:l,setStep:f,symbol:k,amount:E,handleChange:function(e){var t=e.target,a=t.name,n=t.value;"amount"===a?v(n):"symbol"===a&&w(n)}}),r.a.createElement(Ql,{key:2,handleTokensTransferClick:function(){f(3)},handleManualBankTransferClick:j,setStep:f}),r.a.createElement(Zl,{key:3,symbol:k,amount:E,targetAddress:l,setStep:f}),r.a.createElement($n,{key:4,info:x,title:"Trigger your payment"},r.a.createElement("div",{className:"payment-info__message--credit"},r.a.createElement("p",null,"Tokens will be credited to target contract as soon as the transfer is complete. ",r.a.createElement("br",null)," You can always check your order status in your account history.")),r.a.createElement(ac,null)),r.a.createElement(Ec,{key:5,amount:zn(E),symbol:k}),r.a.createElement(nc,{key:6,title:"Transfer unsuccessful",message:"An error occured during the transfer. Transer was not completed."})];return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"send-to-contract paper"},r.a.createElement("div",{className:"send-to-contract__content"},C?r.a.createElement("div",null,"There has been an error"):S[p])))})),$l=(a(1199),function(e){var t=e.submitLabel,a=e.submitCallback,c=e.submitting,l=void 0!==c&&c,o=e.disabled,i=void 0!==o&&o,u=e.error;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"kyc-process-controls"},r.a.createElement(s.b,{to:"/"},r.a.createElement(Ot,null,"Verify Later")),r.a.createElement(Oe,{onClick:a,disabled:i||l,submitting:l},t)),u&&r.a.createElement("div",{className:"kyc-process-controls__error error-text"},u))}),es=(a(1200),function(e){var t=e.startKycProcess,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),p=i[0],f=i[1],b=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,t();case 4:s(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s(!1),f(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"process-welcome-screen"},r.a.createElement(Kc,{title:"Welcome to element36"}),r.a.createElement("p",null,"Thank you for choosing element36!"),r.a.createElement("p",null,"Having your account fully verified allows you to cross the limits of regular account users, therefore, you can transfer greater amounts of money."),r.a.createElement("p",null,"Please have the following documents ready before you start:"),r.a.createElement("ul",null,r.a.createElement("li",null,"- ID or Passport"),r.a.createElement("li",null,"- Utility Bill (stating your domicile address)"),r.a.createElement(v,null,r.a.createElement("li",null,"- Mobile Phone with a camera")),r.a.createElement("li",null,"- A Piece of Paper and a Pen"),r.a.createElement(v,{isMobile:!0},r.a.createElement("li",null,"- eBanking"))),r.a.createElement($l,{submitLabel:"Start Verification Process",submitCallback:b,submitting:l,error:p}))}),ts=function(e){var t=e.formProps,a=t.values,n=t.setFieldValue,c=e.fieldName;return r.a.createElement(Pc.a,{label:"I have more than one Nationality",control:r.a.createElement(Rc.a,{checked:a.moreNationalities,onChange:function(e){var t=e.target.checked;n(c,t,!0),t||(n("nationality2","",!0),n("nationality3","",!0),n("nationality4","",!0))},color:"primary"})})},as=function(e){var t=e.formProps,a=t.values,n=t.setFieldValue,c=e.fieldName;return r.a.createElement(Pc.a,{label:"I am a US Person",control:r.a.createElement(Rc.a,{checked:a.USPerson,onChange:function(e){var t=e.target.checked;n(c,t,!0)},color:"primary"})})},ns=a(513),rs=a.n(ns),cs=Te.object().shape({firstName:Te.string().required("This field is required"),lastName:Te.string().required("This field is required"),dateOfBirth:Te.string().required("This field is required").test("isValidDate","Please enter a valid date",function(e){return!!e&&Ua()(new Date(e)).isValid()}).test("is18Year","Min. age is 18",function(e){return!!e&&new Date(Ua()().subtract(18,"years").format()).getTime()>=new Date(e).getTime()}).nullable(),email:Te.string().email("Please enter a valid email").required("This field is required"),street:Te.string().required("This field is required"),streetNr:Te.string().required("This field is required"),city:Te.string().required("This field is required"),zip:Te.string().required("This field is required"),country:Te.string().required("This field is required"),iban:Te.string().test("isValidIBAN","Please enter a valid IBAN",function(e){return rs.a.isValid(e)}).required("This field is required"),nationality:Te.string().required("This field is required")}),ls=[{name:"firstName",type:"text",label:"First Name(s)",placeholder:"Enter your First Name"},{name:"lastName",type:"text",label:"Last Name",placeholder:"Enter your Last Name"},{name:"dateOfBirth",label:"Date of Birth",type:"date",placeholder:"DD.MM.YYYY",maxDate:new Date(Ua()().subtract(18,"years").format()),initialFocusedDate:new Date(Ua()().subtract(25,"years").format())},{name:"email",type:"text",label:"Email Address",placeholder:"Enter your Email Address",disabled:!0},{name:"street",type:"text",label:"Street",placeholder:"Enter your Street"},{name:"streetNr",type:"text",label:"Street Number",placeholder:"Enter your Street Number"},{name:"city",type:"text",label:"Town/City",placeholder:"Enter your City"},{name:"zip",type:"text",label:"ZIP Code",placeholder:"Enter your ZIP Code"},{name:"country",type:"select",label:"Country of residence",relatedField:"nationality",list:[],placeholder:"Select your country"},{name:"nationality",type:"select",label:"Select your nationality",list:[],placeholder:"Select your nationality"}],ss=[{name:"nationality2",type:"select",label:"Select your nationality 2",list:[],placeholder:"Select your nationality"},{name:"nationality3",type:"select",label:"Select your nationality 3",list:[],placeholder:"Select your nationality"},{name:"nationality4",type:"select",label:"Select your nationality 4",list:[],placeholder:"Select your nationality"}],os={name:"iban",type:"text",label:"IBAN",placeholder:"Enter your IBAN"},is={firstName:"",lastName:"",dateOfBirth:null,city:"",street:"",country:"",nationality:"",nationality2:"",nationality3:"",nationality4:"",streetNr:"",zip:"",email:"",iban:"",moreNationalities:!1,USPerson:!1},us=(a(1201),Object(p.b)(function(e){var t=e.auth.user,a=e.countries.countries;return{countries:void 0===a?[]:a,user:t}},{getCountries:function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/compliance/data/fatfcountries");case 3:a=e.sent,t({type:"GET_COUNTRIES",payload:{countries:a.data}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.countries,a=e.getCountries,c=e.changeSteps,l=e.avatarUri,s=e.user,o=e.stepError,i=Object(n.useState)(""),p=Object(d.a)(i,2),f=p[0],b=p[1],h=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.USPerson){e.next=3;break}return b("Digital onboarding for US persons is not supported at the moment due to legal restrictions. Please contact ask@element36.io for further questions on how to move on."),e.abrupt("return",Promise.reject(f));case 3:return e.prev=3,a=Object(U.a)({},t,{dateOfBirth:Ua()(t.dateOfBirth).format("DD.MM.YYYY"),avatarUrl:l,accountAddress:s.account}),e.next=7,c(1,a);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),b(e.t0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),E=pn(a)[1],v=ls.map(function(e){return"select"===e.type&&(e.list=t),e}),g=ss.map(function(e){return e.list=t,e});return r.a.createElement("div",{className:"tier1-form"},r.a.createElement(Kc,{title:"Verification Process - Step 1",subtitle:"Please enter your personal and bank Information"}),r.a.createElement(ve,{submitCallback:h,validationSchema:cs,initialValues:Object(U.a)({},is,{email:s.username}),render:function(e,t){return r.a.createElement("form",{autoComplete:"off",onSubmit:e.handleSubmit},r.a.createElement("h3",null,"Personal Information"),r.a.createElement("div",{className:"tier1-form__field-group"},v.map(function(t){return r.a.createElement(Gc,{key:t.name,formField:t,formProps:e,disabled:t.disabled,countryList:"country"===t.name||"nationality"===t.name})})),r.a.createElement("div",{className:"tier1-form__checkboxes"},r.a.createElement("div",{className:"tier1-form__field-group checkbox"},r.a.createElement(ts,{formProps:e,fieldName:"moreNationalities"})),r.a.createElement("div",{className:"tier1-form__field-group checkbox"},r.a.createElement(as,{formProps:e,fieldName:"USPerson"}),r.a.createElement(Kn,null,r.a.createElement("div",{className:"us-person-text"},r.a.createElement("div",null,"You qualify as a US Person if:"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u2022 You are a US citizen (sole or dual citizenship)."),r.a.createElement("li",null,"\u2022 You live or are domiciled in the USA."),r.a.createElement("li",null,"\u2022 You have permanent residence permit in the USA (eg. Green card)."),r.a.createElement("li",null,"\u2022 You are mainly in the USA (You have lived in the USA for more then 183 days during the current year and at least two years - Substantial Presence test)."),r.a.createElement("li",null,"\u2022 You are subject to US taxation for some other reason."),r.a.createElement("li",null,"\u2022 You were born in the United States or US territory.")))))),e.values.moreNationalities&&r.a.createElement("div",{className:"tier1-form__field-group"},g.map(function(t){return r.a.createElement(Gc,{key:t.name,formField:t,formProps:e,countryList:!0})})),r.a.createElement("h3",null,"Bank Account"),r.a.createElement(Gc,{formField:os,formProps:e}),!e.isValid&&e.submitCount>0&&r.a.createElement("p",{className:"form-error"},"Please fill out all the required fields"),r.a.createElement($l,{submitLabel:"Submit & Continue",disabled:t,submitting:t,submitCallback:e.handleSubmit,error:f||o||E}))}}))})),ms=(a(1202),function(e){var t=e.changeSteps,a=e.stepError;return r.a.createElement("div",{className:"confirm-tier-1"},r.a.createElement("div",{className:"confirm-tier-1__heading"},r.a.createElement(Zr,{type:"progress",title:"Tier 1 Reached"}),r.a.createElement("p",null,"Thank you for submitting your details. At this stage you qualify for an allowance of a maximum amount of 200 CHF/EUR. To increase this limit, continue with the verification process.")),r.a.createElement($l,{submitLabel:"Continue Verification Process",submitCallback:function(){return t("1a",{})},error:a}))}),ds=(a(1203),function(e){var t=e.changeSteps,a=e.stepError,c=Object(n.useState)(!1),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(!1),u=Object(d.a)(i,2),m=u[0],p=u[1],f=Object(n.useState)(!1),b=Object(d.a)(f,2),h=b[0],E=b[1];return r.a.createElement("div",{className:"beneficial-owner"},r.a.createElement(Kc,{title:"Verification Process - Step 2",subtitle:"Please confirm that you're the Beneficial Owner"}),r.a.createElement("div",{className:"beneficial-owner__body"},r.a.createElement("div",{className:"step-2__section"},r.a.createElement(v,null,r.a.createElement("p",null,"Please confirm that you are the Beneficial Owner (BO):")),r.a.createElement(v,{isMobile:!0},r.a.createElement("h4",null,"Beneficial Owner")),r.a.createElement("div",{className:"beneficial-owner__checkbox-container"},r.a.createElement(Rc.a,{"data-testid":"beneficial-owner__checkbox",color:"primary",onChange:function(){o(function(e){return!e})},checked:s}),r.a.createElement("p",null,"The contracting party declares herewith to be the sole Beneficial Owner (BO) regarding all funds brought into the business relation with element36 AG. The contracting party further commits to communicate any changes to element36 without prior request."),r.a.createElement("div",{className:"step-2__link"},r.a.createElement("a",{href:"https://docs.google.com/document/d/e/2PACX-1vRCIp89o0FlUdCZmLxvphHQc7cSk9w45_1b_PVm03qBM7HhzG0-0nQYtlCZsXEU38uzYGrB2LOaGYWp/pub",target:"_blank",rel:"noopener noreferrer"},"BO explained")))),r.a.createElement("div",{className:"step-2__section"},r.a.createElement(v,null,r.a.createElement("p",null,"Please accept our Terms and Conditions")),r.a.createElement(v,{isMobile:!0},r.a.createElement("h4",null,"Terms and Conditions")),r.a.createElement("div",{className:"beneficial-owner__checkbox-container"},r.a.createElement(Rc.a,{"data-testid":"beneficial-owner__checkbox",color:"primary",onChange:function(){p(function(e){return!e})},checked:m}),r.a.createElement("p",null,"Yes, I have read understood the Terms & Conditions and accept it in full extend."),r.a.createElement("div",{className:"step-2__link"},r.a.createElement("a",{href:"https://docs.google.com/document/d/e/2PACX-1vQrdc8Y2IXX_wijlgpl5-hW2n18coP-hHup8LwUhQEiD787wx6tiOzvK4IEBawNYC0bTuKueO0M9Lqj/pub",target:"_blank",rel:"noopener noreferrer"},"Terms & Conditions")))),r.a.createElement("div",{className:"step-2__section"},r.a.createElement(v,null,r.a.createElement("p",null,"Please accept our Privacy Policy (GDPR)")),r.a.createElement(v,{isMobile:!0},r.a.createElement("h4",null,"Privacy Policy (GDPR)")),r.a.createElement("div",{className:"beneficial-owner__checkbox-container"},r.a.createElement(Rc.a,{"data-testid":"beneficial-owner__checkbox",color:"primary",onChange:function(){E(function(e){return!e})},checked:h}),r.a.createElement("p",null,"Yes, I accept the Privacy Policy."),r.a.createElement("div",{className:"step-2__link"},r.a.createElement("a",{href:"https://docs.google.com/document/d/e/2PACX-1vSOcC_zA-j1mJMyTsXDHktybyyDEUsU3XE9-kINF2xNCRhhlQ8ul3UYiKpVxRcW4m0k-Bxt7aglHuCV/pub",target:"_blank",rel:"noopener noreferrer"},"Data Privacy Policy")))),r.a.createElement($l,{disabled:!s||!m||!h,submitLabel:"Submit & Continue",submitCallback:function(){t(2,{})},error:a})))}),ps=a(517),fs=a.n(ps),bs=a(514),hs=a.n(bs),Es=a(515),vs=a.n(Es),gs=a(516),ys=a.n(gs),ks=(a(1204),function(e){var t=e.changeSteps,a=e.stepError,c=pn(ne,""),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)({ID_Front:{documentType:"ID_Front",file:null},ID_Back:{documentType:"ID_Back",file:null},Utility_Bill:{documentType:"Utility_Bill",file:null},ID_Selfie:{documentType:"ID_Selfie",file:null}}),p=Object(d.a)(i,2),f=p[0],b=p[1],h=Object(n.useState)(!1),E=Object(d.a)(h,2),g=E[0],y=E[1],k=Object(n.useState)(!1),w=Object(d.a)(k,2),_=w[0],O=w[1],x=Object(n.useState)(""),N=Object(d.a)(x,2),C=N[0],j=N[1],S=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt(window.location.origin,s);case 3:O(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),a=new FormData,Object.values(f).forEach(function(e){e.file&&(a.append("documentTypes",e.documentType),a.append("files",e.file))}),e.next=6,t(3,a,{code:s});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(e.t0);case 11:y(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),A=function(e,t){b(Object(U.a)({},f,Object(tt.a)({},t,Object(U.a)({},f[t],{file:e}))))},I=function(e){b(Object(U.a)({},f,Object(tt.a)({},e,Object(U.a)({},f[e],{file:null}))))},L=Object.values(f).filter(function(e){return"ID_Back"!==e.documentType}).some(function(e){return!e.file});return r.a.createElement("div",{className:"documents-upload"},r.a.createElement("div",{className:"form-header"},r.a.createElement("div",null,r.a.createElement("h2",null,"Verification Process - Step 3"),r.a.createElement("p",null,"Please upload the following documents so we can verify your identity and domicile address.")),r.a.createElement(v,null,r.a.createElement(lt.a,{title:"You'll be sent an email with a link to upload your documents from your phone"},r.a.createElement("div",{className:"documents-upload__via-mobile"},r.a.createElement(Ot,{onClick:S},r.a.createElement(fs.a,null),"Upload via mobile"),_&&r.a.createElement("div",{className:"documents-upload__waiting-for-doc"},"Link to upload via mobile has been sent to your email"))))),r.a.createElement("div",{className:"documents-upload__document-wrapper"},r.a.createElement("div",{className:"documents-upload__document-wrapper__content"},r.a.createElement("img",{src:hs.a,alt:"ID Front"}),r.a.createElement("div",null,r.a.createElement("h3",null,"Indentity Document Front"),r.a.createElement("p",null,"The Following documents are accepted:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Passport"),r.a.createElement("li",null,"Indentity Card")))),_?r.a.createElement("div",{className:"documents-upload__waiting-for-doc"},"Waiting for document"):r.a.createElement(at,{documentType:f.ID_Front.documentType,removeCallback:I,changeCallback:A})),r.a.createElement("div",{className:"documents-upload__document-wrapper"},r.a.createElement("div",{className:"documents-upload__document-wrapper__content"},r.a.createElement("img",{src:vs.a,alt:"ID Back"}),r.a.createElement("div",null,r.a.createElement("h3",null,"Indentity Document Back (if applicable)"),r.a.createElement("p",null,"Only applicable for documents with a back such as an ID or credit card format"))),_?r.a.createElement("div",{className:"documents-upload__waiting-for-doc"},"Waiting for document"):r.a.createElement(at,{documentType:f.ID_Back.documentType,removeCallback:I,changeCallback:A})),r.a.createElement("div",{className:"documents-upload__document-wrapper"},r.a.createElement("div",{className:"documents-upload__document-wrapper__content","data-state":_},r.a.createElement("img",{src:ys.a,alt:"Selfie"}),r.a.createElement("div",null,r.a.createElement("h3",null,"Selfie"),r.a.createElement("p",null,"A selfie where you hold next to your face"),r.a.createElement("ul",null,r.a.createElement("li",null,"Your ID Document"),r.a.createElement("li",null,'A piece of paper written "',r.a.createElement("strong",null,s),'" and the current date')),r.a.createElement("p",null,"Make sure your not hidding your face nor information on the card!"))),_?r.a.createElement("div",{className:"documents-upload__waiting-for-doc"},"Waiting for document"):r.a.createElement(at,{documentType:f.ID_Selfie.documentType,removeCallback:I,changeCallback:A})),r.a.createElement("div",{className:"documents-upload__document-wrapper"},r.a.createElement("div",{className:"documents-upload__document-wrapper__content"},r.a.createElement("div",null,r.a.createElement("h3",null,"Verified Proof of Residence"),r.a.createElement("p",null,"Please upload the full document and blackout any sensitive information! The document must include your full name, your address and a date not older than 3 months."),r.a.createElement("p",null,"The following documents among others are accepted:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Bank or Credit Card Statement"),r.a.createElement("li",null,"Landline, Internet, Gas or Electricity Bill"),r.a.createElement("li",null,"Residence Certificate")))),_?r.a.createElement("div",{className:"documents-upload__waiting-for-doc"},"Waiting for document"):r.a.createElement(at,{documentType:f.Utility_Bill.documentType,removeCallback:I,changeCallback:A})),r.a.createElement($l,{submitLabel:"Submit & Continue",disabled:L||g,submitting:g,submitCallback:T,error:C||a||o}))}),ws=a(1247),_s=a(1250);a(1205);var Os=function(e){var t=e.title,a=e.choices,n=e.value,c=e.onChange;return r.a.createElement("div",{className:"radio-buttons-group"},r.a.createElement("h5",null,t),r.a.createElement(ws.a,{value:n,onChange:c},a.map(function(e){var t=function(e){if(e.includes("LessThan")){var t=e.split("LessThan")[1].split("k")[0]+".000";return"< ".concat(t," CHF/EUR")}if(e.includes("From")){var a=e.split("From")[1].split("to").map(function(e){return e.split("k")[0]});return"".concat(a[0]," - ").concat(a[1]+".000"," CHF/EUR")}if(e.includes("MoreThan")){var n=e.split("MoreThan")[1].split("k")[0]+".000";return"> ".concat(n," CHF/EUR")}}(e);return r.a.createElement(Pc.a,{key:e,value:e,control:r.a.createElement(_s.a,{color:"primary"}),labelPlacement:"end",label:t,style:{height:"3.3rem"}})})))},xs=(a(1206),function(e){var t=e.name,a=e.list,n=e.value,c=e.onChange,l=e.label,s=e.disabled,o=void 0!==s&&s,i=e.placeholder,u=e.error;return r.a.createElement("div",null,r.a.createElement(Jt.a,{id:"text-field-".concat(t),name:t,select:!0,label:l,value:n,onChange:c,fullWidth:!0,disabled:o,InputProps:{disableUnderline:!1,style:{fontSize:"1.6rem"}},InputLabelProps:{shrink:!0},SelectProps:{displayEmpty:!0,IconComponent:ut.a},className:"basic-select"},r.a.createElement(ot.a,{value:"",disabled:!0},r.a.createElement("div",{className:"basic-select__placeholder"},r.a.createElement("span",{className:"basic-select__placeholder-text"},i))),a.map(function(e){return r.a.createElement(ot.a,{key:e.id,value:e.id},e.label)})),u&&r.a.createElement("p",{className:"form-error"},u))}),Ns=(a(1207),Object(n.memo)(function(e){var t=e.changeHandler,a=e.values,n=a.profession,c=a.industry,l=a.industryOther,s=e.professionError,o=e.industryError,i=e.industryOtherError,u=e.industryList;return r.a.createElement("div",{className:"verification-user-profile__industry"},r.a.createElement(Tc,{name:"profession",label:"Profession",placeholder:"Enter Your Profession",onChange:t,value:n,isTouched:!0,error:s?"This field is required":null}),r.a.createElement(xs,{name:"industry",list:u,label:"Industry",placeholder:"Enter Your Industry",value:c,onChange:t,error:o?"This field is required":null}),"other"===c.toLowerCase()&&r.a.createElement(Tc,{name:"industryOther",label:"Other",placeholder:"Enter Your Industry",onChange:t,value:l,isTouched:!0,error:i?"This field is required":null}))})),Cs=a(1220),js=(a(1208),["SavingsFromWork","Inheritance","Donation"]),Ss=["Lottery","Other"],Ts=Object(n.memo)(function(e){var t=e.values,a=e.otherValue,n=e.updateValue,c=e.updateOtherValue,l=e.hasError;return r.a.createElement("div",{className:"verification-user-profile__source"},r.a.createElement("h4",null,"Source of Funds"),r.a.createElement("div",{className:"verification-user-profile__row --alt"},r.a.createElement(Cs.a,null,js.map(function(e){return r.a.createElement(Pc.a,{key:e,name:e,label:"SavingsFromWork"===e?"Savings from Work":e,control:r.a.createElement(Rc.a,{color:"primary",checked:t[e],value:e,onChange:n}),style:{height:"3.3rem"}})})),r.a.createElement("div",null,r.a.createElement(Cs.a,null,Ss.map(function(e){return r.a.createElement(Pc.a,{key:e,name:e,value:e,label:e,control:r.a.createElement(Rc.a,{color:"primary",checked:t[e],value:e,onChange:n}),style:{height:"3.3rem"}})})),t.Other&&r.a.createElement(Tc,{name:"other-sources",label:"Other",placeholder:"Describe Your Source of Funds",onChange:c,value:a})),l&&r.a.createElement("p",{className:"verification-user-profile_error"},"These fields are required")))}),As=(a(1209),Object(n.memo)(function(e){var t=e.sourceDetails,a=e.updateSourceDetails,n=e.hasError;return r.a.createElement("div",{className:"verification-user-profile__row verification-user-profile__source"},r.a.createElement("div",null,r.a.createElement(Tc,{name:"sourceOfFundsDescription",label:"Detailed Description of Source of Funds",placeholder:"Add a detailed description of your Source of Funds",multiline:!0,rows:4,onChange:a,value:t}),n&&r.a.createElement("p",{className:"verification-user-profile_error"},"This field is required")),r.a.createElement("div",null,r.a.createElement("p",null,"Good Description example:",r.a.createElement("br",null),"Mein j\xe4hrliches Einkommen als IT-Berater betr\xe4gt ca. 130000 CHF vor Steuern. Ich konnte damit etwas Geld sparen, welches ich nun investieren m\xf6chte."),r.a.createElement("p",null,"Bad Description Example:",r.a.createElement("br",null),"Ich habe etwas Geld von meinem Gehlat gespart.")))})),Is=(a(1210),["LessThan10k","From10kto50k","From50kto100k","MoreThan100k"]),Ls=["LessThan50k","From50kto100k","From100kto200k","MoreThan200k"],Fs=function(e){var t=e.changeSteps,a=e.stepError,c=Object(n.useState)({profession:"",industry:"",industryOther:""}),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)("LessThan10k"),p=Object(d.a)(i,2),f=p[0],b=p[1],h=Object(n.useState)("LessThan50k"),E=Object(d.a)(h,2),v=E[0],g=E[1],y=Object(n.useState)({SavingsFromWork:!1,Inheritance:!1,Donation:!1,Lottery:!1,Other:!1}),k=Object(d.a)(y,2),w=k[0],_=k[1],O=Object(n.useState)(""),x=Object(d.a)(O,2),N=x[0],C=x[1],j=Object(n.useState)(""),S=Object(d.a)(j,2),T=S[0],A=S[1],I=Object(n.useState)({industry:!1,profession:!1,industryOther:!1,income:!1,sourceOfFunds:!1,sourceOfFundsDescription:!1,transactionVolume:!1}),L=Object(d.a)(I,2),F=L[0],D=L[1],P=Object(n.useState)([]),R=Object(d.a)(P,2),B=R[0],W=R[1],M=Object(n.useState)(!1),Y=Object(d.a)(M,2),V=Y[0],q=Y[1],z=Object(n.useCallback)(function(e){var t=e.target,a=t.name,n=t.value;o(Object(U.a)({},s,Object(tt.a)({},a,n)))},[s]),H=Object(n.useCallback)(function(e){return _(Object(U.a)({},w,Object(tt.a)({},e.target.name,e.target.checked)))},[w]),G=Object(n.useCallback)(function(e){return C(e.target.value)},[]),K=Object(n.useCallback)(function(e){return A(e.target.value)},[]),X=function(){var e=Object(m.a)(u.a.mark(function e(){var a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.keys(w).reduce(function(e,t){return w[t]&&e.push(t),e},[]),n={industry:!s.industry,industryOther:"other"===s.industry.toLowerCase()&&!s.industryOther,profession:!s.profession,income:!v,sourceOfFunds:!Object.values(w).some(function(e){return e})||w.Other&&!N,sourceOfFundsDescription:"LessThan10k"!==f&&!T,transactionVolume:!f},D(n),!Object.values(n).filter(function(e){return e}).length){e.next=6;break}return e.abrupt("return");case 6:return r=Object(U.a)({},s,{transactionVolume:f,incomeVolume:v,sourceOfFundsDescription:T,sourceOfFundsOther:N,sourceOfFunds:a}),q(!0),e.prev=8,e.next=11,t(4,r);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),q(!1),e.abrupt("return",Promise.reject(e.t0));case 17:case"end":return e.stop()}},e,null,[[8,13]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,W(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){"LessThan10k"===f&&A("")},[f]),Object(n.useEffect)(function(){"other"!==s.industry.toLowerCase()&&o(Object(U.a)({},s,{industryOther:""}))},[s.industry]),Object(n.useEffect)(function(){w.Other||C("")},[w]),Object(n.useEffect)(function(){Q()},[]);var Z=Object.values(F).filter(function(e){return e}).length;return r.a.createElement("div",{className:"verification-user-profile"},r.a.createElement(Kc,{title:"Verification Process - Step 4",subtitle:"For smooth operations, we need to comply with international Anti-Money-Laundering standards. We need to monitor constantly if your used funds match the declared source of funds."}),r.a.createElement("h4",null,"Business and Financial Conditions"),r.a.createElement("div",{className:"verification-user-profile__row"},r.a.createElement(Ns,{values:s,changeHandler:z,industryError:F.industry,professionError:F.profession,industryOtherError:F.industryOther,industryList:B}),r.a.createElement("div",null,r.a.createElement(Os,{title:"Declare your yearly income:",choices:Ls,value:v,onChange:function(e){return g(e.target.value)}}),F.income&&r.a.createElement("p",{className:"verification-user-profile_error"},"Please select one"))),r.a.createElement(Ts,{hasError:F.sourceOfFunds,values:w,otherValue:N,updateValue:H,updateOtherValue:G}),r.a.createElement("div",{className:"verification-user-profile__row"},r.a.createElement("div",null,r.a.createElement(Os,{title:"What transaction volume per year do you expect?",choices:Is,value:f,onChange:function(e){return b(e.target.value)}}),F.transactionVolume&&r.a.createElement("p",{className:"verification-user-profile_error"},"These fields are required"))),f&&"LessThan10k"!==f&&r.a.createElement(As,{hasError:F.sourceOfFundsDescription,sourceDetails:T,updateSourceDetails:K}),Z>0&&r.a.createElement("p",{className:"verification-user-profile_error"},"Please fill out all the required fields"),r.a.createElement($l,{submitLabel:"Submit & Continue",submitCallback:X,submitting:V,error:a}))},Ds=(a(1211),function(){return r.a.createElement("div",{className:"awaiting-verification"},r.a.createElement(Zr,{type:"progress",title:"Verification Process completed"}),r.a.createElement("p",null,"Thank you for submitting your details. We will now check your information. You will be notified as soon as the verification process is completed on our end."),r.a.createElement("p",null,"Please note that your verification can not be fully completed, until we have received your first bank transfer using the Buy Tokens functionality."),r.a.createElement(s.b,{to:"/"},r.a.createElement(Oe,null,"Finish")))}),Ps=(a(1212),Object(p.b)(function(e){return{currentKycStep:e.auth.kyc.currentStep,avatarUri:e.auth.user.avatarUri,username:e.auth.user.username}},{getCurrentKycStep:ae,updateKycStep:function(e,t,a){return function(){var n=Object(m.a)(u.a.mark(function n(r){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.post("/compliance/kyc/step-".concat(e),t,{params:a});case 3:r(ae()),r(te()),n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",$(n.t0));case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()},startKycProcess:function(){return function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.post("/compliance/kyc/start-process",{});case 3:t(ae()),t(te()),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",$(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.currentKycStep,a=e.getCurrentKycStep,c=e.updateKycStep,l=e.startKycProcess,s=e.avatarUri,o=e.username,i=Object(n.useRef)(),p=Object(n.useState)(""),f=Object(d.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(""),v=Object(d.a)(E,2),g=v[0],y=v[1];Object(n.useEffect)(function(){k(),i.current&&i.current.scrollIntoView({behavior:"smooth"})},[t]);var k=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),h(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t,a,n);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),y(e.t0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}();ea(function(){k()},"UPLOAD_DOCUMENTS"===t?5e3:null);return b?r.a.createElement("div",{className:"wrapper paper kyc kyc__empty-container","data-status":"REGISTERED"},r.a.createElement("div",{className:"error-text"},b)):r.a.createElement("div",{className:"wrapper paper kyc","data-status":t,ref:i},function(){switch(t){case"REGISTERED":return r.a.createElement(es,{startKycProcess:l});case"USER_DATA":return r.a.createElement(us,{changeSteps:w,avatarUri:s,username:o,stepError:g});case"CONFIRM_TIER_1":return r.a.createElement(ms,{changeSteps:w,stepError:g});case"BENEFICIAL_OWNER":return r.a.createElement(ds,{changeSteps:w,stepError:g});case"UPLOAD_DOCUMENTS":return r.a.createElement(ks,{changeSteps:w,stepError:g});case"USER_PROFILE":return r.a.createElement(Fs,{changeSteps:w,stepError:g});case"AWAITING_VERIFICATION":return r.a.createElement(Ds,null);default:return r.a.createElement("div",{className:"kyc__empty-container"},r.a.createElement($t.a,{size:20}))}}())})),Rs=Object(p.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{getTokens:Ft,getWallets:St})(function(e){var t=e.isAuthenticated,a=e.getWallets,c=e.getTokens;return Object(n.useEffect)(function(){window.ethereum&&window.ethereum.on("accountsChanged",function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt(t[0]);case 3:return e.next=5,a();case 5:return e.next=7,c();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}())}),t?r.a.createElement(La,null,r.a.createElement(ht,null,r.a.createElement(yn,null),r.a.createElement(gn,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:Or}),r.a.createElement(o.b,{exact:!0,path:"/buy",component:vc}),r.a.createElement(o.b,{exact:!0,path:"/sell",component:Nc}),r.a.createElement(o.b,{exact:!0,path:"/use",component:pl}),r.a.createElement(o.b,{path:"/use/send-to-contract",component:Jl}),r.a.createElement(o.b,{exact:!0,path:"/history",component:Dl}),r.a.createElement(o.b,{exact:!0,path:"/contacts",component:ql}),r.a.createElement(o.b,{path:"/kyc/:id",component:Ps})))):r.a.createElement(o.a,{to:"/login"})}),Us=function(){return r.a.useEffect(function(){window.ethereum&&window.ethereum.networkVersion&&(window.ethereum.autoRefreshOnNetworkChange=!1,window.ethereum.on("networkChanged",function(){document.location.reload()}))},[]),r.a.createElement(s.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/login",component:Ie}),r.a.createElement(o.b,{exact:!0,path:"/register",component:Me}),r.a.createElement(o.b,{exact:!0,path:"/account-activation",component:Qe}),r.a.createElement(o.b,{exact:!0,path:"/resend-activation",component:et}),r.a.createElement(o.b,{exact:!0,path:"/reset-password",component:ze}),r.a.createElement(o.b,{exact:!0,path:"/set-new-password",component:Xe}),r.a.createElement(o.b,{exact:!0,path:"/upload-documents",component:ct}),r.a.createElement(o.b,{path:"",component:Rs})))},Bs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ws(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ms=a(518),Ys=a(40),Vs=a(315),qs=a(519),zs=Object(qs.a)({palette:{primary:{light:"#6bafe6",main:"#1F8EEA",dark:"#316d9c",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"},greys:{darkGrey:"#949CA8",headerGrey:"#F9F9FC",lightGrey:"#ededed",backgroundGrey:"#FCFCFC"},helpers:{warning:"#EF9A9A",onHold:"#FFEDED",processing:"#F9F6DF",complete:"#ECFAF7"}},typography:{htmlFontSize:10,fontFamily:'"Rubik" sans-serif',fontSize:16,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500},gradients:{primary:"linear-gradient(225.95deg, #69B8F2 0%, #017EE5 100%)"},overrides:{MuiMenuItem:{root:{fontSize:"1.5rem"}},MuiButton:{root:{backgroundImage:"linear-gradient(225.95deg, #69B8F2 0%, #017EE5 100%)"}},MuiCircularProgress:{colorSecondary:{color:"#fff"}},MuiSelect:{select:{"&:focus":{background:"none"}}},MuiInput:{root:{fontSize:"1.6rem"},underline:{"&&&&:hover:before":{borderBottom:"2px solid #EDF0F4"},"&:before":{borderBottom:"1px solid #EDF0F4"},"&:after":{borderBottom:"none",height:"2px",background:"linear-gradient(to right, #69B8F2, #017EE5)"}}}}});a(1213),a(1214);l.a.render(r.a.createElement(Ys.a,{utils:Ms.a},r.a.createElement(p.a,{store:J},r.a.createElement(sa,null,r.a.createElement(Vs.a,{theme:zs},r.a.createElement(Us,null))))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/build-rinkeby",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/build-rinkeby","/service-worker.js");Bs?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ws(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ws(e)})}}()},138:function(e,t,a){e.exports=a.p+"static/media/tokens-transfer.f11d37c2.svg"},212:function(e,t,a){e.exports=a.p+"static/media/manual-transfer-icon.bc61fac0.svg"},298:function(e,t,a){e.exports=a.p+"static/media/confirmation-icon.ec2dc377.svg"},462:function(e,t,a){},467:function(e,t,a){e.exports=a.p+"static/media/background-image.0ec26f35.jpg"},469:function(e,t,a){e.exports=a.p+"static/media/Logo.dfca0c00.svg"},483:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAaeSURBVHgBrVhtiFRlFD7n3pnZWT9ioX4kEaz1N1Iqcou0lcwUIdYKsSDmTlRWVGYEsUXSB9aPRCUtS8q5Sz8kQ5Og/ChZFftQS8WIkLQGkhIt1Np1Z3fufU/n/br3zs44zszugbv3Y9573ud9nnPOe+4CjJOtX3yks9BzpAPGyRDGaGsfONSdQVpNCNPNoyKGtGzJlhnbYAw2JmDvLfohByL02Q0hsi8CInUmAMf1ntp8Sx+0aC0Dk6BEyKCkB4o9oQUnzQHv6c0zWgLXErB19x/IMSkF0kTxJUPhG0Ucn+VzBVZixpS3dEvzzDUNbBWDcoj8CmYSjEX3+qG6QgfzS7c0x1xTwFb1HMgxJT7JSQ1Dih7LkPVmftPALHuO9/y2xsE1DGwlgwIQvppXaqfY0mjie/kb6Qs0ZMp7jKbyXth2W0PgGgImQQkhCiqALjWIDEyMgRMZxqIRILM1/2IDzF0W2Jv3fpdzwcg3anjEFKkCAZUsSqY0m0rWCKTEi/mXPq/PHF4OFAgpn4kZiy2BMYqx0TZqHRUhKBfkOHXBYT1QUr4EhOjSxg0ZXZmZhGQ2UWWsxYM0o5pJM05W4fwrX9QGVxPYGwsYFIUF1M5QTcJOHTeeVEujHisLAiUa6EJmUClmkMnh4YJAJANUi08OujXBVQF7jUERBX6smbZUxqVM1tGZx0d2Ygqe/fBmaMTeefRH+O+fMgQjoaEyLsjyzIDzr++4owKck7xZvmB/LhSBL1cmeEVCqIWqlQaBwPKIAHu46cZLoFzUcCmgkJ2GjCRkfyEJDNm/PDPWwvJ5+3MV70Sg5u7nvU/XqdjiGBEBSXBgi2ZQbouC7q+TA/DlB79J9XTR1WAgnXLo4mAZTxcHUCTiUqsMRhBbgYT/8ry9sGLHnX0RsN65+3oC5DqlalEykGlUJOtnqYwDqbaYsdJgACePXQAdY2oLovbJLipnvBY3w5sYL4oXh3HBVW5tNlnXfu/d+4pvfTVrr2MGrBaKXhmgAo18UkZSz/gNdS0vUgiprEsiLpxq4Up20D4yExzke/VMBouTQcy0p6BtoquQK0n5UO/wHzUfqEPOvkYx9lx3fweP6ayU0HCsq6qtUxoI8uqJlDTW2ielYeqNV6hi7zBwThJFQhgSnv1jiC78PSyfcXqiBAnBkHZLCUlMNZLVdxpj6pRSdohY8Ci21OxGPiFMS8PXHMQ4XGLW2uK8mXLdRFiychpAjSw/tPM0fvL2cZlM1DbBRSfNoIdC1OvS4JLV2vg476zZM7vIGhwNtXRaFtI1R8oSKtoEqoIlZVC/UaJQ1rfSYKhDImSRhH4vVNKRPVCoTCUbPkXGdF4Ff+jQMh7RP4o4VWNsV5Wd5LKKgCMlh8rDnCo6m9RSf//5Amzo/QmGBgLITkhBKs0xLwjlvQkJSKdTKu51XMWpSUkdZdS4kAdIUM+6egK5K40T0OzROlPTnP7Zdl1gp828Cq6eOglmLbxGvXvuTAkO7jrN7T8HOis8cK4Mh/vPgATAcQYuJ6jj6O2odDGEclnTHfdxtixRfu2eu/wKYNKeYXCy2NWSRIHjotqWdfHVTV2q8tez93uPQfGXf6P7kOvgSEkoSe2qY2kUuPy7e2b3VTxL2pPd/TkWwo83XTB7oN6j5MKunJLFa6+fTI+vuEG9f+rEAHy67lczgGObi+qpE4O2QVT7jo5L24lg1GGaZXvr982p2JKqlr2eUT/RvVtuYAVTk3XmqLjQe/bZP4f457iOXeRYOn7knG2pIUEzQBQOie6WhAaHMmyrQdVkzNpjM3d7EMmKUWk2p0Tzp9mk+LNINxc6lqPPKNP8mKXplGL28htqgKoLTNojt+/yuGfZaJMm2SMne4/omgjiUXEcofkItqvRwQ7eR9/Mab5RtJbv+joHLvlgSLEMQAXKWC7ThlX5qfyaQq9QB1RDwKR5Xbs8cqBgu4IEJ3IzNJrG+7wslI7dNczXsEk96SHvfzvXv9ycDTdVD3dt9wBTG6O+Rb+e6EQirABY41rPlv+4AVAATQCT9hCD41JZiOVCG1+2TOp6oq5kh8N8os4cLvjepu/v6Wt0rqaASXuwa2eOYfjqZQYghKEQ496K4v/+6BkQmgLVEjBpi5k5LkW2lEB1nupgl2eX975mQVmvLdmiW3fmuMr6kPjyrnLO2bf5YPOgxgRM2n03ccxxtlY7ZYm5eG49NN+HFs2BMdjWw/N97qMWcstdtF9T3DIfDYBmjwXUuFrP9M86erq2d8I42f8VKge+FVYfGwAAAABJRU5ErkJggg=="},484:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAeKSURBVHgBrZh5bJRVEMBnvt1tdytiRYgXKlDQeFulURKVGokYg1r/8I7ZXdDKoqJV4xlvo1FUjImSLOgu8ZZIJKBCLN5nPHYxQS0iUDB4lVpJW3rs98Z5875raQvbLZN+2e96835vrjdfAfaRzH08N+GWhblq2EeCMEKZu+CregXWQlZ0itwg2EIETek7T38HRiAjAks98VXcJshqHERABnJ/teZE+s5pS6FMKRss9RhDgcp6ihxNGk4u+doiK7HonvLgygJLPfJ53EbIsG2QbUTaYJrJ6POuRUJWuCy4YYOlHvnEcV8xwBBC2q1oQTJ93/RhwQ0LLPXQR3EFmCUTRA4Y/3Jcgdzz1PrPXHgdcw+cUzJcyWCp+5s5pjCrz8nxoavCpRBtxYBgPOyKlUg/XBpcSWAaqqAgg55lgsOo6MywMTjq4DMWc+/pd8IhSC56eMZe4fYK1nj3mjhYbKlBgIoASDITXTztbk1U/I5xLz9Nph+fubRssBRDFRSXBHTSL+AVNHYwlkAyTAHoger9hUm9s3CPcEOCpe54L14Adt8g7xhrGKtUxSJw7lkT4YhD95dzLdu274T8+r9gw6b2AWDatE5E6NUk009esLRksMbbVsVZTUZekErOyizkmmQBudZgS40/dBQ2zZ0GVdHwYGqg+bPNsGzlzxwJZjHa4qZ+OJziVoZ7etYAuNDuN1JNq+KK7KxZnkKXIxKyKFoRwkgIQR8Hj90P5yXrYPSoSujpKcDqD3+FtZ9uhvUt/8D4w0aL9SYddSDwENj6ewcQFz9lK3BWZkxn9F88ddoVW77/+o11QQ6rGGoFx1R/FhSPVaxE6QhScm73F7DQX4BCvy3HxCMOgDHVMRm3/N31sHL1L5D7cTt9+U0rPLrgY+re1S/P6moP57E29fX2E4MxHcOIbt47WL/+JUWZxvkr4oNarHH+8rjSga7XY2zu1CTSCnhxJEAHjI5S/ZkT8cTjD4GxY6pk7NZtHTBl0kFwTM1BuKu7D3bs6MK29m5oa+uCjZvaoGXD33py3gBIgstUPidW3fmALplad/mW7799UywnMdZ445sNRKHlJirRqZ9Bfr+CHz1lHNx+89kwlKx87ydYtbqF9quKyPuKF2TbRIUCb/lsLQombNEcTtYqVb940WWfSNRSARY66B6sgdF3lI5/qT86LP7Y3oFvLMtT3anjsaZmrLyZffk7b4qWDX9hrNJiC9mSIBz4aIUAw1aIDWTBrp5+9p7Bk8wW/d60+v6zfNRiIpGpjlTG/h3ArjNJSW5DsGQce9wh1DR/+pBl5pXXvoMfcr/L2D4dlwX2BdNVVFhocVb3cTj09hS8/g3MqgMlCChs0aRwNBqtLnC2YLFB/cJJZm+UDOKBnf9177Eoh7RyhokwSLSyAjjmsKurj10UpspomC2H0OdnO8ev410pKWI97Onp7ZBJrp39So6vT5YCD25FD5Rq3fRZ5pTdIEu88KKT+DhR7j21oBm2bm2HHs7EqqoK4ndx3o3TYfLkcdDNyXDzTcsoxGaLVUVEYWdnr+8dcrwj1pP9o3Xxi1dPNOVCUZOkLVuObBtI6o0ypV2ZI1YZpqpYGCoiFunnLT//6cXVlVdNhTEHxmScXbDxrLMnC5SWfG6bDmiMhFGXClAFW49n4ygzD2cHmTICnCWaIQkQiJ3rEpkEuy/j28nZdMWAyK4JQzQakoyw2VUsOIstNvOCE7zVt7V1aovJoaW9vQuee2YtdPzbLRbX1tFW7Wc4V7HrEWkCLEouziazRWACd42Go0ywgfcFKRyxoLIyjGYDN1l7Wt2ReP6sk2DsuFHem91dvfD1l5vgi083QvuOTrlns0X6em12iO3s5FhULNgPyfSrs72taUAgz7n6pTjnetY8RSfcZA9xSgbovU8nAnlNFotYKlYhibKjbSeC2zlK+vBNpQINZnHXaxF3t69fW7RfDpph112RTribOPh12qs3ptqSV3gwYFXH1EV63U5kt85XhnKeDIAaEkzL7EsXJXhQxkyOTka7FnI/j9Dvr53895tG3zIUaEnQSUH9zNKdxVvXl972+HDPJ1BZL5lVU6DOetXO0YL+ByX4X3IukOlgAcBrKnX5Yfe9NW/4jaIrcxpe4NZax5zfPnsWcLPJa1+DzaCvnozzyW29eQ9IpN8eGqokMC2zG55LoHSzCD6Te245biXAYOuM3ubnNQCSM2AlF79zQ3Zvc4agBMn98n6+dsp5rXx6MSiHSxdEZ6uSXNWM+h6Z7VU6VaVMcjrtDaLNUPOzpcxZEpjAbViTr62Z2cqzNJi8NL2a+FX3NuBUP7f26WJCyuzRsu+oxJIVty4tdb6SXBmUOec/E+flZ92WQxG55Tv4wev+H0P+QrokvFs6lJaSLeZKbuOadbWTZ7SiggbXbRJe4k5lkMy1FggDf6a9f9uwoMoCM3Af5E+pmbGFQRqkLdJ9s9Mxg+tm04Qkl6y5Y9hQZYNpyf/WvK52wrmcENSAjsVMD29KhaUouaT5rrKgRgSmJbd5bf7Uo+rXsX3OYJhqNHB5VPaVSz66d0T/6txnkqh/sHpu/YMTYB/J/1piIqxGB3+3AAAAAElFTkSuQmCC"},485:function(e,t,a){e.exports=a.p+"static/media/app-store-badge.31c9cd93.svg"},486:function(e,t,a){e.exports=a.p+"static/media/google-play-badge.465ba2e5.svg"},487:function(e,t,a){e.exports=a.p+"static/media/error-icon.1573f0c7.svg"},488:function(e,t,a){e.exports=a.p+"static/media/tier2-badge.00fd75b2.svg"},495:function(e,t,a){e.exports=a.p+"static/media/source-icon.06bdde20.svg"},496:function(e,t,a){e.exports=a.p+"static/media/target-icon.5cc80810.svg"},497:function(e,t,a){e.exports=a.p+"static/media/euro-icon.f7dc4240.svg"},498:function(e,t,a){e.exports=a.p+"static/media/dollar-icon.894fbc98.svg"},499:function(e,t,a){e.exports=a.p+"static/media/pound-icon.42198fff.svg"},500:function(e,t,a){e.exports=a.p+"static/media/franc-icon.6f22abf9.svg"},501:function(e,t,a){e.exports=a.p+"static/media/ether-icon.f20285ac.svg"},512:function(e,t,a){e.exports=a.p+"static/media/contract-icon.9ef7d4fd.svg"},514:function(e,t,a){e.exports=a.p+"static/media/ID Front Icon.c557f9b5.svg"},515:function(e,t,a){e.exports=a.p+"static/media/ID Back Icon.f868584f.svg"},516:function(e,t,a){e.exports=a.p+"static/media/Selfie Icon.5656566e.svg"},541:function(e,t,a){e.exports=a(1215)},551:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},582:function(e,t,a){},604:function(e,t,a){},731:function(e,t,a){},732:function(e,t,a){},733:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},736:function(e,t,a){},737:function(e,t,a){},738:function(e,t,a){},739:function(e,t,a){},741:function(e,t,a){},742:function(e,t,a){},752:function(e,t){},774:function(e,t){},776:function(e,t){},843:function(e,t){},86:function(e,t,a){e.exports=a.p+"static/media/uport_logo.28dcb8b7.svg"},87:function(e,t,a){e.exports=a.p+"static/media/metamask.5f31d74c.svg"},950:function(e,t,a){},956:function(e,t,a){},957:function(e,t,a){},958:function(e,t,a){},959:function(e,t,a){},960:function(e,t,a){},961:function(e,t,a){},962:function(e,t,a){},963:function(e,t,a){},964:function(e,t,a){},965:function(e,t,a){},966:function(e,t,a){},967:function(e,t,a){},968:function(e,t,a){},969:function(e,t,a){},970:function(e,t,a){},971:function(e,t,a){},972:function(e,t,a){},973:function(e,t,a){},974:function(e,t,a){},975:function(e,t,a){},976:function(e,t,a){},977:function(e,t,a){},978:function(e,t,a){},979:function(e,t,a){},980:function(e,t,a){},981:function(e,t,a){},982:function(e,t,a){},983:function(e,t,a){},984:function(e,t,a){},985:function(e,t,a){}},[[541,1,2]]]);
//# sourceMappingURL=main.4f3a9b76.chunk.js.map